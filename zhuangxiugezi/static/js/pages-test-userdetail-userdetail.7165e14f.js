(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-test-userdetail-userdetail"],{1238:function(t,e,i){"use strict";var a=i("9710"),s=i.n(a);s.a},"3a95":function(t,e,i){"use strict";i.r(e);var a=i("d6ee"),s=i.n(a);for(var l in a)"default"!==l&&function(t){i.d(e,t,(function(){return a[t]}))}(l);e["default"]=s.a},6339:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-cd8d65e6]{background-color:#f5f5f5}uni-switch[data-v-cd8d65e6]{width:%?88?%;height:%?60?%}.toper[data-v-cd8d65e6]{width:100%;height:%?88?%;padding-top:%?36?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-bottom:%?25?%;background-color:#fff}.toper .top_img[data-v-cd8d65e6]{width:%?88?%;height:%?88?%;margin-left:%?30?%;margin-right:%?12?%;border-radius:50%;overflow:hidden}.toper .top_img uni-image[data-v-cd8d65e6]{width:100%;height:100%}.toper .top_text[data-v-cd8d65e6]{height:%?88?%;line-height:%?88?%;display:-webkit-box;display:-webkit-flex;display:flex}.toper .top_text .con_name[data-v-cd8d65e6]{text-align:center;font-size:%?36?%;margin-right:%?14?%;margin-left:%?10?%}.toper .top_text .line[data-v-cd8d65e6]{width:%?2?%;height:%?30?%;background:#333;margin-top:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.toper .top_text .con_alias[data-v-cd8d65e6]{color:#666;font-size:%?24?%;margin-left:%?15?%}.toper .phone[data-v-cd8d65e6]{margin-left:auto;margin-right:%?34?%;margin-top:%?10?%;width:%?66?%;height:%?66?%;border-radius:50%;background-color:#2468b1;color:#fff}.toper .phone .iconfont[data-v-cd8d65e6]{text-align:center;height:%?66?%;line-height:%?66?%;font-size:%?38?%}.guild[data-v-cd8d65e6]{width:100%;background-color:#fff}.guild .guild_text[data-v-cd8d65e6]{margin-left:%?30?%;margin-right:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex}.guild .guild_text .guild_massage[data-v-cd8d65e6]{width:calc(100% / 2);position:relative}.guild .guild_text .guild_massage .text[data-v-cd8d65e6]{height:%?78?%;line-height:%?78?%;font-size:%?36?%;text-align:center;color:#333}.guild .guild_text .guild_massage.active[data-v-cd8d65e6]{color:#1b82d1}.guild .guild_text .guild_massage.active[data-v-cd8d65e6]:after{position:absolute;bottom:0;width:100%;height:5px;content:"";background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1)}.content[data-v-cd8d65e6]{width:100%;background-color:#fff}.content .content_top[data-v-cd8d65e6]{height:%?90?%;line-height:%?90?%;display:-webkit-box;display:-webkit-flex;display:flex;margin-left:%?28?%;margin-right:%?32?%;width:calc(100%-60upx);border-bottom:1px solid #f1f1f1;position:relative}.content .content_top .top_header[data-v-cd8d65e6]{font-size:%?30?%;color:#333;font-weight:700}.content .content_top .top_img[data-v-cd8d65e6]{height:%?50?%;line-height:%?50?%;margin-top:%?20?%;position:absolute;right:%?4?%}.content .content_top .top_img .iconfont[data-v-cd8d65e6]{color:#2468b1;text-align:center;font-size:%?44?%}.content .content_center[data-v-cd8d65e6]{width:100%}.content .content_center .con_li[data-v-cd8d65e6]{height:%?87?%;width:calc(100%-60upx);margin-left:%?28?%;margin-right:%?32?%;border-bottom:1px solid #f1f1f1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content .content_center .con_li .con_header[data-v-cd8d65e6]{min-width:%?150?%;font-size:%?30?%;font-weight:700;color:#333}.content .content_center .con_li .con_con[data-v-cd8d65e6]{color:#666;font-size:%?28?%;margin-left:%?12?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.power_content .power_manager[data-v-cd8d65e6]{background-color:#fff;width:100%}.power_content .power_manager .manager_title[data-v-cd8d65e6]{height:%?89?%;line-height:%?89?%;color:#333;font-size:%?30?%;margin-left:%?30?%;margin-right:%?30?%;width:calc(100%-60upx);border-bottom:1px solid #f1f1f1;font-weight:700}.power_content .power_manager .manager_module1[data-v-cd8d65e6]{height:%?89?%;line-height:%?89?%;color:#333;font-size:%?30?%;margin-left:%?30?%;margin-right:%?30?%;width:calc(100%-60upx);border-bottom:1px solid #f1f1f1;display:-webkit-box;display:-webkit-flex;display:flex;font-weight:700}.power_content .power_manager .manager_module1 .mng_module1_right[data-v-cd8d65e6]{margin-left:auto}.power_content .power_manager .manager_module1 .mng_module1_right .sopacity[data-v-cd8d65e6]{opacity:.5}.power_content .power_manager .manager_module2[data-v-cd8d65e6]{height:%?89?%;line-height:%?89?%;color:#333;font-size:%?30?%;margin-left:%?30?%;margin-right:%?30?%;width:calc(100%-60upx);display:-webkit-box;display:-webkit-flex;display:flex;font-weight:700}.power_content .power_manager .manager_module2 .mng_module2_right[data-v-cd8d65e6]{margin-left:auto}.power_content .power_manager .manager_module2 .mng_module2_right .sopacity[data-v-cd8d65e6]{opacity:.5}.power_content .power_list[data-v-cd8d65e6]{background-color:#fff;width:100%}.power_content .power_list .power_list_title[data-v-cd8d65e6]{height:%?89?%;line-height:%?89?%;color:#333;font-size:%?30?%;margin-left:%?30?%;margin-right:%?30?%;width:calc(100%-60upx);border-bottom:1px solid #f1f1f1;font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.power_content .power_list .power_list_title .power_list_titler .sopacity[data-v-cd8d65e6]{opacity:.5}.power_content .power_list .power_list1[data-v-cd8d65e6]{height:%?89?%;line-height:%?89?%;color:#333;font-size:%?30?%;margin-left:%?30?%;margin-right:%?30?%;width:calc(100%-60upx);border-bottom:1px solid #f1f1f1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.power_content .power_list .power_list1 .list_l[data-v-cd8d65e6]{width:%?24?%;height:%?24?%;border-bottom:2px solid #1b82d1;border-left:2px solid #1b82d1}.power_content .power_list .power_list1 .power_list1_c[data-v-cd8d65e6]{font-size:%?30?%;color:#333;margin-left:%?10?%}.power_content .power_list .power_list1 .power_list1_r[data-v-cd8d65e6]{margin-left:auto}.power_content .power_list .power_list1 .power_list1_r .sopacity[data-v-cd8d65e6]{opacity:.5}.power_content .power_list .power_list2[data-v-cd8d65e6]{height:%?89?%;line-height:%?89?%;color:#333;font-size:%?30?%;margin-left:%?30?%;margin-right:%?30?%;width:calc(100%-60upx);border-bottom:1px solid #f1f1f1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.power_content .power_list .power_list2 .list_l[data-v-cd8d65e6]{width:%?24?%;height:%?24?%;border-bottom:2px solid #1b82d1;border-left:2px solid #1b82d1}.power_content .power_list .power_list2 .power_list2_c[data-v-cd8d65e6]{font-size:%?30?%;color:#333;margin-left:%?10?%}.power_content .power_list .power_list2 .power_list2_r[data-v-cd8d65e6]{margin-left:auto}.power_content .power_list .power_list2 .power_list2_r .sopacity[data-v-cd8d65e6]{opacity:.5}.fixed[data-v-cd8d65e6]{position:fixed;width:100%;height:%?88?%;bottom:0;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);color:#fff;text-align:center;line-height:%?88?%}body.?%PAGE?%[data-v-cd8d65e6]{background-color:#f5f5f5}',""]),t.exports=e},"78f2":function(t,e,i){"use strict";var a={pageHeadBack:i("9c7e").default},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page-head-back",{attrs:{title:"人员信息"}}),i("v-uni-view",{staticClass:"toper"},[i("v-uni-view",{staticClass:"top_img"},[i("v-uni-image",{attrs:{src:t.imageSrc}})],1),i("v-uni-view",{staticClass:"top_text"},[i("v-uni-view",{staticClass:"con_name"},[t._v(t._s(t.tmp.realname))])],1),i("v-uni-view",{staticClass:"phone",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.phoneclick(t.tmp.mobile)}}},[i("v-uni-view",{staticClass:"iconfont iconllcouponphone"})],1)],1),i("v-uni-view",{staticClass:"xpadding"}),i("v-uni-view",{staticClass:"guild"},[i("v-uni-view",{staticClass:"guild_text"},[t._l(t.tabData,(function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"guild_massage",class:t.nowIndex==e.id?"active":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.tgTabs(e.id)}}},[i("v-uni-view",{staticClass:"text"},[t._v(t._s(e.title))])],1)]}))],2)],1),i("v-uni-view",{staticClass:"xpadding"}),0==t.nowIndex?i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"content_top"},[i("v-uni-view",{staticClass:"top_header"},[t._v("基本信息")]),i("v-uni-view",[i("v-uni-view",{staticClass:"top_img",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickchange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont iconsign"})],1)],1)],1),i("v-uni-view",{staticClass:"content_center"},[i("v-uni-view",{staticClass:"con_li"},[i("v-uni-view",{staticClass:"con_header"},[t._v("员工电话 :")]),i("v-uni-view",{staticClass:"con_con"},[t._v(t._s(t.tmp.mobile))])],1)],1),i("v-uni-view",{staticClass:"content_center"},[i("v-uni-view",{staticClass:"con_li"},[i("v-uni-view",{staticClass:"con_header"},[t._v("员工性别 :")]),i("v-uni-view",{staticClass:"con_con"},[t._v(t._s(t.tmp.gendertext))])],1)],1),i("v-uni-view",{staticClass:"content_center"},[i("v-uni-view",{staticClass:"con_li"},[i("v-uni-view",{staticClass:"con_header"},[t._v("员工生日 :")]),i("v-uni-view",{staticClass:"con_con"},[t._v(t._s(t.tmp.birthday))])],1)],1),i("v-uni-view",{staticClass:"content_center"},[i("v-uni-view",{staticClass:"con_li"},[i("v-uni-view",{staticClass:"con_header"},[t._v("员工邮箱 :")]),i("v-uni-view",{staticClass:"con_con"},[t._v(t._s(t.tmp.email))])],1)],1),i("v-uni-view",{staticClass:"content_center"},[i("v-uni-view",{staticClass:"con_li"},[i("v-uni-view",{staticClass:"con_header"},[t._v("证件号码 :")]),i("v-uni-view",{staticClass:"con_con"},[t._v(t._s(t.tmp.idnumber))])],1)],1),i("v-uni-view",{staticClass:"content_center"},[i("v-uni-view",{staticClass:"con_li"},[i("v-uni-view",{staticClass:"con_header"},[t._v("入职日期 :")]),i("v-uni-view",{staticClass:"con_con"},[t._v(t._s(t.tmp.createtimetext))])],1)],1),i("v-uni-view",{staticClass:"content_center"},[i("v-uni-view",{staticClass:"con_li"},[i("v-uni-view",{staticClass:"con_header"},[t._v("家庭住址 :")]),i("v-uni-view",{staticClass:"con_con"},[t._v(t._s(t.tmp.address))])],1)],1)],1):t._e(),1==t.nowIndex?i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"content_top"},[i("v-uni-view",{staticClass:"top_header"},[t._v("项目信息")]),i("v-uni-view",{staticClass:"top_img"},[i("v-uni-view",{staticClass:"iconfont"})],1)],1),i("v-uni-view")],1):t._e(),2==t.nowIndex?i("v-uni-view",{staticClass:"power_content"},[i("v-uni-view",{staticClass:"power_manager"},[i("v-uni-view",{staticClass:"manager_title"},[t._v("角色权限")]),i("v-uni-view",{staticClass:"manager_module1"},[i("v-uni-view",{staticClass:"mng_module1_left"},[t._v("管理员（全部模块）")]),i("v-uni-view",{staticClass:"mng_module1_right"},[i("v-uni-switch",{class:t.roleArr["管理员"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["管理员"].auth,checked:t.roleArr["管理员"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("管理员")}}})],1)],1),i("v-uni-view",{staticClass:"manager_module2"},[i("v-uni-view",{staticClass:"mng_module2_left"},[t._v("店长（全部模块）")]),i("v-uni-view",{staticClass:"mng_module2_right"},[i("v-uni-switch",{class:t.roleArr["店长"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["店长"].auth,checked:t.roleArr["店长"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("店长")}}})],1)],1)],1),i("v-uni-view",{staticClass:"xpadding"}),i("v-uni-view",{staticClass:"power_list"},[i("v-uni-view",{staticClass:"power_list_title"},[i("v-uni-view",{staticClass:"power_list_titlel"},[t._v("客服（客服模块）")]),i("v-uni-view",{staticClass:"power_list_titler"},[i("v-uni-switch",{class:t.roleArr["客服"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["客服"].auth,checked:t.roleArr["客服"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("客服")}}})],1)],1),t.roleArr["客服"].flag?i("v-uni-view",{staticClass:"power_list1"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list1_c"},[t._v("公司所有用户")]),i("v-uni-view",{staticClass:"power_list1_r"},[i("v-uni-switch",{class:t.roleArr["客服"].auth?"":"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{disabled:!t.roleArr["客服"].auth,checked:t.roleArr["客服"].all},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuthall("客服")}}})],1)],1):t._e(),t.roleArr["客服"].flag?i("v-uni-view",{staticClass:"power_list2"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list2_c"},[t._v("仅限跟进用户")]),i("v-uni-view",{staticClass:"power_list2_r"},[i("v-uni-switch",{staticClass:"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{checked:t.roleArr["客服"].one,disabled:!0}})],1)],1):t._e(),i("v-uni-view",{staticClass:"xpadding"})],1),i("v-uni-view",{staticClass:"power_list"},[i("v-uni-view",{staticClass:"power_list_title"},[i("v-uni-view",{staticClass:"power_list_titlel"},[t._v("设计师（设计模块）")]),i("v-uni-view",{staticClass:"power_list_titler"},[i("v-uni-switch",{class:t.roleArr["设计师"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["设计师"].auth,checked:t.roleArr["设计师"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("设计师")}}})],1)],1),t.roleArr["设计师"].flag?i("v-uni-view",{staticClass:"power_list1"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list1_c"},[t._v("公司所有用户")]),i("v-uni-view",{staticClass:"power_list1_r"},[i("v-uni-switch",{class:t.roleArr["设计师"].auth?"":"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{disabled:!t.roleArr["设计师"].auth,checked:t.roleArr["设计师"].all},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuthall("设计师")}}})],1)],1):t._e(),t.roleArr["设计师"].flag?i("v-uni-view",{staticClass:"power_list2"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list2_c"},[t._v("仅限跟进用户")]),i("v-uni-view",{staticClass:"power_list2_r"},[i("v-uni-switch",{staticClass:"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{checked:t.roleArr["设计师"].one,disabled:!0}})],1)],1):t._e(),i("v-uni-view",{staticClass:"xpadding"})],1),i("v-uni-view",{staticClass:"power_list"},[i("v-uni-view",{staticClass:"power_list_title"},[i("v-uni-view",{staticClass:"power_list_titlel"},[t._v("财务（财务模块）")]),i("v-uni-view",{staticClass:"power_list_titler"},[i("v-uni-switch",{class:t.roleArr["财务"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["财务"].auth,checked:t.roleArr["财务"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("财务")}}})],1)],1),t.roleArr["财务"].flag?i("v-uni-view",{staticClass:"power_list1"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list1_c"},[t._v("公司所有用户")]),i("v-uni-view",{staticClass:"power_list1_r"},[i("v-uni-switch",{class:t.roleArr["财务"].auth?"":"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{disabled:!t.roleArr["财务"].auth,checked:t.roleArr["财务"].all},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuthall("财务")}}})],1)],1):t._e(),t.roleArr["财务"].flag?i("v-uni-view",{staticClass:"power_list2"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list2_c"},[t._v("仅限跟进用户")]),i("v-uni-view",{staticClass:"power_list2_r"},[i("v-uni-switch",{staticClass:"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{checked:t.roleArr["财务"].one,disabled:!0}})],1)],1):t._e(),i("v-uni-view",{staticClass:"xpadding"})],1),i("v-uni-view",{staticClass:"power_list"},[i("v-uni-view",{staticClass:"power_list_title"},[i("v-uni-view",{staticClass:"power_list_titlel"},[t._v("工程总监（项目模块）")]),i("v-uni-view",{staticClass:"power_list_titler"},[i("v-uni-switch",{class:t.roleArr["工程总监"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["工程总监"].auth,checked:t.roleArr["工程总监"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("工程总监")}}})],1)],1),t.roleArr["工程总监"].flag?i("v-uni-view",{staticClass:"power_list1"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list1_c"},[t._v("公司所有用户")]),i("v-uni-view",{staticClass:"power_list1_r"},[i("v-uni-switch",{class:t.roleArr["工程总监"].auth?"":"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{disabled:!t.roleArr["工程总监"].auth,checked:t.roleArr["工程总监"].all},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuthall("工程总监")}}})],1)],1):t._e(),t.roleArr["工程总监"].flag?i("v-uni-view",{staticClass:"power_list2"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list2_c"},[t._v("仅限跟进用户")]),i("v-uni-view",{staticClass:"power_list2_r"},[i("v-uni-switch",{staticClass:"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{checked:t.roleArr["工程总监"].one,disabled:!0}})],1)],1):t._e(),i("v-uni-view",{staticClass:"xpadding"})],1),i("v-uni-view",{staticClass:"power_list"},[i("v-uni-view",{staticClass:"power_list_title"},[i("v-uni-view",{staticClass:"power_list_titlel"},[t._v("项目经理（项目模块）")]),i("v-uni-view",{staticClass:"power_list_titler"},[i("v-uni-switch",{class:t.roleArr["项目经理"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["项目经理"].auth,checked:t.roleArr["项目经理"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("项目经理")}}})],1)],1),t.roleArr["项目经理"].flag?i("v-uni-view",{staticClass:"power_list1"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list1_c"},[t._v("公司所有用户")]),i("v-uni-view",{staticClass:"power_list1_r"},[i("v-uni-switch",{class:t.roleArr["项目经理"].auth?"":"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{disabled:!t.roleArr["项目经理"].auth,checked:t.roleArr["项目经理"].all},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuthall("项目经理")}}})],1)],1):t._e(),t.roleArr["项目经理"].flag?i("v-uni-view",{staticClass:"power_list2"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list2_c"},[t._v("仅限跟进用户")]),i("v-uni-view",{staticClass:"power_list2_r"},[i("v-uni-switch",{staticClass:"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{checked:t.roleArr["项目经理"].one,disabled:!0}})],1)],1):t._e(),i("v-uni-view",{staticClass:"xpadding"})],1),i("v-uni-view",{staticClass:"power_list"},[i("v-uni-view",{staticClass:"power_list_title"},[i("v-uni-view",{staticClass:"power_list_titlel"},[t._v("监理（项目模块）")]),i("v-uni-view",{staticClass:"power_list_titler"},[i("v-uni-switch",{class:t.roleArr["监理"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["监理"].auth,checked:t.roleArr["监理"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("监理")}}})],1)],1),t.roleArr["监理"].flag?i("v-uni-view",{staticClass:"power_list1"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list1_c"},[t._v("公司所有用户")]),i("v-uni-view",{staticClass:"power_list1_r"},[i("v-uni-switch",{class:t.roleArr["监理"].auth?"":"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{disabled:!t.roleArr["监理"].auth,checked:t.roleArr["监理"].all},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuthall("监理")}}})],1)],1):t._e(),t.roleArr["监理"].flag?i("v-uni-view",{staticClass:"power_list2"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list2_c"},[t._v("仅限跟进用户")]),i("v-uni-view",{staticClass:"power_list2_r"},[i("v-uni-switch",{staticClass:"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{checked:t.roleArr["监理"].one,disabled:!0}})],1)],1):t._e(),i("v-uni-view",{staticClass:"xpadding"})],1),i("v-uni-view",{staticClass:"power_list"},[i("v-uni-view",{staticClass:"power_list_title"},[i("v-uni-view",{staticClass:"power_list_titlel"},[t._v("供应商（材料模块）")]),i("v-uni-view",{staticClass:"power_list_titler"},[i("v-uni-switch",{class:t.roleArr["供应商"].auth?"":"sopacity",staticStyle:{transform:"scale(0.82)"},attrs:{disabled:!t.roleArr["供应商"].auth,checked:t.roleArr["供应商"].flag},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuth("供应商")}}})],1)],1),t.roleArr["供应商"].flag?i("v-uni-view",{staticClass:"power_list1"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list1_c"},[t._v("公司所有用户")]),i("v-uni-view",{staticClass:"power_list1_r"},[i("v-uni-switch",{class:t.roleArr["供应商"].auth?"":"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{disabled:!t.roleArr["供应商"].auth,checked:t.roleArr["供应商"].all},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.updateAuthall("供应商")}}})],1)],1):t._e(),t.roleArr["供应商"].flag?i("v-uni-view",{staticClass:"power_list2"},[i("v-uni-view",{staticClass:"list_l"}),i("v-uni-view",{staticClass:"power_list2_c"},[t._v("仅限跟进用户")]),i("v-uni-view",{staticClass:"power_list2_r"},[i("v-uni-switch",{staticClass:"sopacity",staticStyle:{transform:"scale(0.6)"},attrs:{checked:t.roleArr["供应商"].one,disabled:!0}})],1)],1):t._e(),i("v-uni-view",{staticClass:"xpadding"})],1)],1):t._e(),i("v-uni-view",{staticClass:"xplaceholder"}),i("v-uni-view",{staticClass:"fixed",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toWorkconnect()}}},[t._v("人员交接")])],1)},l=[];i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return a}))},9710:function(t,e,i){var a=i("6339");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("24f6b64a",a,!0,{sourceMap:!1,shadowMode:!1})},"9b69":function(t,e,i){"use strict";i.r(e);var a=i("78f2"),s=i("3a95");for(var l in s)"default"!==l&&function(t){i.d(e,t,(function(){return s[t]}))}(l);i("1238");var o,r=i("f0c5"),n=Object(r["a"])(s["default"],a["b"],a["c"],!1,null,"cd8d65e6",null,!1,a["a"],o);e["default"]=n.exports},d6ee:function(t,e,i){"use strict";var a=i("ee27");i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,l=a(i("9c7e")),o={components:{pageHeadBack:l.default},data:function(){return{name:[{name:"李明",alias:"李师傅"}],nowIndex:0,isworker:{0:"非工人",1:"工人"},tabData:[{title:"基本信息",id:0},{title:"权限信息",id:2}],powerListData:[{title:"市场销售（销售模块）",powerTop:"公司所有用户",powerTopActive:!0,powerTopDisabled:!1,powerFooterActive:!1,powerFooterDisabled:!1,powerFooter:"仅限跟进用户"},{title:"设计师（设计模块）",powerTop:"公司所有用户",powerTopActive:!0,powerTopDisabled:!1,powerFooterActive:!0,powerFooterDisabled:!1,powerFooter:"仅限跟进用户"},{title:"项目经理（项目模块）",powerTop:"公司所有用户",powerTopActive:!1,powerTopDisabled:!0,powerFooterActive:!1,powerFooterDisabled:!0,powerFooter:"仅限跟进用户"},{title:"材料员（材料模块）",powerTop:"公司所有用户",powerTopActive:!0,powerTopDisabled:!1,powerFooterActive:!0,powerFooterDisabled:!1,powerFooter:"仅限跟进用户"},{title:"工人（工人模块）",powerTop:"公司所有用户",powerTopActive:!0,powerTopDisabled:!1,powerFooterActive:!1,powerFooterDisabled:!1,powerFooter:"仅限跟进用户"}],id:0,tmp:[],ischeckedone:!1,ischeckedonefirst:!1,ischeckedonesecond:!1,isdisabledone:!1,opacityone:.2,roleArr:{"管理员":{flag:!1,all:!1,auth:!1,one:!1},"店长":{flag:!1,all:!1,auth:!1,one:!1},"客服":{flag:!1,all:!1,auth:!1,one:!1},"设计师":{flag:!1,all:!1,auth:!1,one:!1},"财务":{flag:!1,all:!1,auth:!1,one:!1},"工程总监":{flag:!1,all:!1,auth:!1,one:!1},"项目经理":{flag:!1,all:!1,auth:!1,one:!1},"监理":{flag:!1,all:!1,auth:!1,one:!1},"供应商":{flag:!1,all:!1,auth:!1,one:!1}},tmproledata:{},userinfo:{},istrue:!0,imageSrc:"",roledata:""}},onShow:function(){s.getuser((function(t){console.log(t),s.userinfo=t.data,console.log(s.userinfo.id),console.log(s.roleArr),s.getuserdetail()}))},onLoad:function(t){s=this,s.id=t.id,console.log(s.id),s.getrolequery()},methods:{timestampToTime:function(t){var e=new Date(1e3*t),i=e.getFullYear()+"-",a=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",s=e.getDate()+" ",l=e.getHours()+":",o=e.getMinutes()+":",r=e.getSeconds();return i+a+s+l+o+r},getuserdetail:function(){s.post("api/staff/detail",{company_id:"13",user_id:s.id},(function(t){if(1===t.code){console.log(t.data);var e=t.data;s.each(e,(function(t,i){null==i&&(e[t]="")})),s.$set(s,"tmp",e),"0"==s.tmp.gender?s.tmp.gendertext="未知":"1"==s.tmp.gender?s.tmp.gendertext="男":"2"==s.tmp.gender&&(s.tmp.gendertext="女"),s.tmp.createtime&&(s.tmp.createtimetext=s.timestampToTime(s.tmp.createtime).split(" ")[0]),s.tmp.avatar?s.imageSrc=s.tmp.avatar:s.imageSrc="/static/img/zhang.png",console.log(s.tmp),s.roledata=s.tmp.roles,console.log(s.roledata)}else{var i=t.msg.split("(",2);s.echo(i[0])}}))},getrolequery:function(){s.post("api/role/power_list",{},(function(t){if(1===t.code){var e;console.log(t.data[0]._child),s.rolelist=t.data[0]._child,e=t.re,s.tmproledata=t.re;var i=s.roleArr;s.each(e,(function(t,e){i[e.roleName].flag=e.flag,1==e.rolePermissionDto.canShowAllCust?(i[e.roleName].all=!0,i[e.roleName].one=!1):(i[e.roleName].all=!1,i[e.roleName].one=!0)})),s.roleArr=i,s.tmprole=e}else{var a=t.msg.split("(",2);s.echo(a[0])}}))},toWorkconnect:function(){uni.navigateTo({url:"/pages/index/workconnect/workconnect"})},tgRole:function(t){console.log(t)},updateAuthall:function(t){s.roleArr[t].auth?(!0===s.roleArr[t].all?(s.$set(s.roleArr[t],"all",!1),s.$set(s.roleArr[t],"one",!0)):(s.$set(s.roleArr[t],"all",!0),s.$set(s.roleArr[t],"one",!1)),s.each(s.tmproledata,(function(e,i){i.roleName===t&&(!0===s.roleArr[t].all?s.tmproledata[e].rolePermissionDto.canShowAllCust=1:s.tmproledata[e].rolePermissionDto.canShowAllCust=0,s.tmproledata[e].all=s.roleArr[t].all)})),s.post("saleservice/role/update",{employId:s.id,roleDtos:s.tmproledata},(function(t){if(0===t.status)s.success("操作成功");else{var e=t.msg.split("(",2);s.echo(e[0])}}))):s.$set(s.roleArr[t],"flag",s.roleArr[t].flag)},updateAuth:function(t){s.roleArr[t].auth?(s.roleArr[t].flag=!s.roleArr[t].flag,s.each(s.tmproledata,(function(e,i){i.roleName==t&&(s.tmproledata[e].flag=s.roleArr[t].flag)})),s.post("saleservice/role/update",{employId:s.id,roleDtos:s.tmproledata},(function(t){if(0===t.status)s.success("操作成功");else{var e=t.msg.split("(",2);s.echo(e[0])}}))):s.$set(s.roleArr[t],"flag",s.roleArr[t].flag)},tgTabs:function(t){s.nowIndex=t},isCheckedclickone:function(){s.ischeckedone=!s.ischeckedone},clickchange:function(){uni.navigateTo({url:"/pages/management/useradminister/userdetail/informationchange/informationchange?id="+s.id})},phoneclick:function(t){uni.makePhoneCall({phoneNumber:t})}}};e.default=o}}]);