(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tab-indextwo-indextwo"],{"28c0":function(t,i,e){"use strict";var a=e("b3f1"),o=e.n(a);o.a},6910:function(t,i,e){"use strict";e.r(i);var a=e("de08"),o=e.n(a);for(var l in a)"default"!==l&&function(t){e.d(i,t,(function(){return a[t]}))}(l);i["default"]=o.a},"74ce":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.top .status[data-v-7a7022f5]{width:100%;height:0;position:fixed;background-image:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background-image:linear-gradient(90deg,#2466ad,#2b7ed1);z-index:10;top:0}.top .nav-bar[data-v-7a7022f5]{width:100%;height:%?88?%;line-height:%?88?%;background-image:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background-image:linear-gradient(90deg,#2466ad,#2b7ed1);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;overflow:hidden;top:0;z-index:10\r\n  /* .back {\r\n\t\t\tmargin: 0 2px;\r\n\t\t\twidth: 27px;\r\n\t\t\theight: 30px;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.middle {\r\n\t\t\tcolor: white;\r\n\t\t\twidth: 80%;\r\n\t\t\theight: 44px;\r\n\t\t\tline-height: 44px;\r\n\t\t\tpadding: 0 10%;\r\n\t\t\tfont-size: 16px;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.icon-btn {\r\n\t\t\tmargin: 0 2px;\r\n\t\t\twidth: 27px;\r\n\t\t\theight: 30px;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\t.iconfont {\r\n\t\t\t\tcolor: white;\r\n\t\t\t\twidth: 27px;\r\n\t\t\t\theight: 27px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 21px;\r\n\t\t\t}\r\n\t\t} */}.top .nav-bar .topimg[data-v-7a7022f5]{width:%?45?%;height:%?45?%;margin-left:%?33?%;overflow:hidden}.top .nav-bar .topimg uni-image[data-v-7a7022f5]{width:100%;height:100%}.top .nav-bar .back[data-v-7a7022f5]{width:%?56?%;height:%?56?%;border-radius:50%;position:absolute;left:%?30?%;top:%?16?%;overflow:hidden;z-index:10}.top .nav-bar .back uni-image[data-v-7a7022f5]{display:block;width:%?56?%;height:%?56?%}.top .nav-bar .avatar[data-v-7a7022f5]{height:%?88?%;max-width:%?550?%;z-index:9;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-left:%?20?%;margin:0 auto;color:#fff}.top .nav-bar .avatar .text[data-v-7a7022f5]{max-width:%?510?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:%?34?%;margin-right:%?10?%}.top .nav-bar .avatar .iconfont[data-v-7a7022f5]{width:%?40?%;font-size:%?44?%}.top .nav-bar .addicontwo[data-v-7a7022f5]{position:absolute;right:%?30?%}.top .nav-bar .addicontwo .iconfont[data-v-7a7022f5]{font-size:%?40?%;color:#fff}.top .nav-bar .addicontwo .tipnum[data-v-7a7022f5]{position:absolute;right:%?-20?%;top:%?12?%;font-size:%?20?%;color:#fff;width:%?30?%;height:%?30?%;line-height:%?30?%;border-radius:50%;text-align:center;background-color:#ef261e}.top .nav-bar .addicon[data-v-7a7022f5]{position:absolute;right:%?30?%}.top .nav-bar .addicon .iconfont[data-v-7a7022f5]{font-size:%?46?%;color:#fff}.top .nav-bar .title[data-v-7a7022f5]{width:100%;height:%?88?%;line-height:%?88?%;font-size:%?38?%;color:#fff;text-align:center;background-image:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background-image:linear-gradient(90deg,#2466ad,#2b7ed1)}.top .nav-bar .stt[data-v-7a7022f5]{line-height:%?110?%;font-size:%?30?%;color:#fff;position:absolute;right:%?30?%;top:0}.top .place[data-v-7a7022f5]{height:%?88?%}.delist[data-v-7a7022f5]{width:100%;background-color:#fff}.delist .offer_topmargin[data-v-7a7022f5]{width:calc(100% - %?60?%);margin:0 %?30?%;padding-top:%?20?%;padding-bottom:%?20?%}.delist .offer_topmargin .offer_toplinone[data-v-7a7022f5]{text-align:center;font-size:%?30?%;color:#999;padding:%?30?% 0}.delist .offer_topmargin .offer_topli[data-v-7a7022f5]{width:%?138?%;height:%?180?%;display:inline-block;position:relative}.delist .offer_topmargin .offer_topli .offertopli_icon[data-v-7a7022f5]{margin-left:%?19?%;width:%?100?%;height:%?100?%;background:-webkit-linear-gradient(left,#fa853e,#ffc06a);background:linear-gradient(90deg,#fa853e,#ffc06a);border-radius:50%;margin-top:%?30?%}.delist .offer_topmargin .offer_topli .offertopli_icon .iconfont[data-v-7a7022f5]{text-align:center;font-size:%?65?%;color:#fff;line-height:%?100?%}.delist .offer_topmargin .offer_topli .offertopli_text[data-v-7a7022f5]{margin-top:%?10?%;text-align:center;font-size:%?24?%}.delist .offer_topmargin .offer_topli .offertopli_delete[data-v-7a7022f5]{position:absolute;top:0;right:%?10?%}.delist .offer_topmargin .offer_topli .offertopli_delete .iconfont[data-v-7a7022f5]{font-size:%?40?%;color:#ccc}.imglist .imgli[data-v-7a7022f5]{width:%?690?%;margin:0 %?30?% %?20?% %?30?%;height:%?200?%;background:#000;border-radius:%?10?%;overflow:hidden}.imglist .imgli uni-image[data-v-7a7022f5]{width:100%;height:100%;display:block}.rolelistmarginmargin[data-v-7a7022f5]{width:100%;height:100%}.rolelistmarginmargin .rolelistmargin[data-v-7a7022f5]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:99}.rolelistmarginmargin .rolelistblock[data-v-7a7022f5]{position:fixed;left:0;top:0;width:100%;height:100%;z-index:999}.rolelistmarginmargin .rolelistblock .rolelist[data-v-7a7022f5]{position:fixed;left:%?40?%;top:%?200?%;width:%?670?%;height:%?840?%;background-color:#fff;border-radius:%?10?%;overflow:hidden}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display[data-v-7a7022f5]{position:relative;width:100%;height:100%}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .title[data-v-7a7022f5]{width:100%;height:%?80?%;line-height:%?80?%;color:#333;font-size:%?34?%;font-weight:700;text-align:center}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list[data-v-7a7022f5]{width:100%;overflow:auto;height:%?660?%}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin[data-v-7a7022f5]{height:%?160?%;width:100%}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin .personalitems[data-v-7a7022f5]{width:100%;height:%?160?%;display:-webkit-box;display:-webkit-flex;display:flex;border-bottom:1px solid #f1f1f1}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin .personalitems .left[data-v-7a7022f5]{width:%?120?%;height:%?120?%;margin-left:%?20?%;margin-top:%?20?%;border-radius:%?10?%;overflow:hidden}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin .personalitems .left uni-image[data-v-7a7022f5]{width:100%;height:100%}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin .personalitems .right[data-v-7a7022f5]{width:%?250?%;margin-left:%?20?%;height:%?160?%;line-height:%?160?%;font-size:%?36?%;color:#333}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin .personalitems .isactive[data-v-7a7022f5]{width:%?220?%;height:%?160?%;margin-right:%?20?%;font-size:%?34?%;color:#fa853e;text-align:right;line-height:%?160?%}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin .active[data-v-7a7022f5]{background:#ffc16a}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .itemsmargin .active .isactive[data-v-7a7022f5]{color:#fff}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items[data-v-7a7022f5]{height:%?160?%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;border-bottom:1px solid #f1f1f1}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items .left[data-v-7a7022f5]{margin-left:%?20?%;width:%?120?%;height:%?120?%;margin-top:%?20?%;border-radius:%?10?%;overflow:hidden}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items .left uni-image[data-v-7a7022f5]{width:100%;height:100%}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items .right[data-v-7a7022f5]{margin-right:%?20?%;width:%?490?%;height:%?160?%;margin-left:%?20?%}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items .right .top[data-v-7a7022f5]{font-size:%?32?%;width:%?490?%;color:#333;margin-top:%?20?%;height:%?60?%;line-height:%?60?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items .right .foo[data-v-7a7022f5]{width:%?490?%;height:%?60?%;line-height:%?60?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items .right .foo .foo_left[data-v-7a7022f5]{font-size:%?28?%;color:#999}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .items .right .foo .foo_right[data-v-7a7022f5]{height:%?50?%;line-height:%?50?%;font-size:%?34?%;color:#fa853e}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .active[data-v-7a7022f5]{background-color:#ffc16a}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .list .items_border .active .right .foo .foo_right[data-v-7a7022f5]{color:#fff}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .button[data-v-7a7022f5]{height:%?100?%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .button .left[data-v-7a7022f5]{width:%?200?%;height:%?70?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);margin-left:%?90?%;margin-right:%?90?%;border-radius:%?10?%;font-size:%?32?%;color:#fff;line-height:%?70?%;text-align:center}.rolelistmarginmargin .rolelistblock .rolelist .rolelist_display .button .right[data-v-7a7022f5]{width:%?200?%;height:%?70?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);border-radius:%?10?%;font-size:%?32?%;color:#fff;line-height:%?70?%;text-align:center}',""]),t.exports=i},b272:function(t,i,e){"use strict";var a,o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"main"},[e("v-uni-view",{staticClass:"top"},[e("v-uni-view",{staticClass:"status",staticStyle:{"{background":"#fff}"}}),e("v-uni-view",{staticClass:"nav-bar"},[e("v-uni-view",{staticClass:"back",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.myInfomation.apply(void 0,arguments)}}},[e("v-uni-image",{attrs:{"lazy-load":!0,src:t.imageSrchead,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"avatar",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toggleRole()}}},[e("v-uni-view",{staticClass:"text"},[t._v(t._s(t.titleroletext))]),e("v-uni-view",{staticClass:"iconfont icondown_b"})],1),e("v-uni-view",{staticClass:"addicontwo"},[e("v-uni-view",{staticClass:"iconfont icontongzhi1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.totip.apply(void 0,arguments)}}}),t.staffapplynumblock?e("v-uni-view",{staticClass:"tipnum"},[t._v(t._s(t.staffapplynum))]):t._e()],1)],1),e("v-uni-view",{staticClass:"place",staticStyle:{"{height":"44upx"}})],1),e("v-uni-view",{staticClass:"delist"},[e("v-uni-view",{staticClass:"offer_topmargin"},t._l(t.offerOne,(function(i,a){return e("v-uni-view",{key:a,staticClass:"offer_topli"},[e("v-uni-view",{staticClass:"offertopli_icon"},[e("v-uni-view",{class:["iconfont",i.icon]})],1),e("v-uni-view",{staticClass:"offertopli_text"},[t._v(t._s(i.title))]),e("v-uni-view",{staticClass:"offertopli_delete"},[e("v-uni-view",{staticClass:"iconfont iconcuo"})],1)],1)})),1)],1),e("v-uni-view",{staticClass:"imglist"},t._l(t.offerTwo,(function(t,i){return e("v-uni-view",{key:i,staticClass:"imgli"},[e("v-uni-image",{attrs:{src:"/static/img/indexzx.png",mode:"aspectFill"}})],1)})),1),t.toggleroleBlock?e("v-uni-view",{staticClass:"rolelistmarginmargin"},[e("v-uni-view",{staticClass:"rolelistmargin"}),e("v-uni-view",{staticClass:"rolelistblock",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancleblockclick.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"rolelist",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.noneclick.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"rolelist_display"},[e("v-uni-view",{staticClass:"title"},[t._v("切换公司")]),e("v-uni-view",{staticClass:"list"},[e("v-uni-view",{staticClass:"itemsmargin"},[t.issupplierid?t._e():e("v-uni-view",{class:["personalitems",t.personalitemsactive?"active":""],on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.personalitemsclick()}}},[e("v-uni-view",{staticClass:"left"},[e("v-uni-image",{attrs:{"lazy-load":!0,src:t.imageSrchead,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"right"},[t._v("个人版")]),t.ispersonalitems?e("v-uni-view",{staticClass:"isactive"},[t._v("当前选择")]):t._e()],1),t.issupplierblock?e("v-uni-view",{staticClass:"items_border",class:["personalitems",t.personalitemstwoactive?"active":""],on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.personaltwoitemsclick()}}},[e("v-uni-view",{class:["items",t.ispersonaltwoitems?"active":""]},[e("v-uni-view",{staticClass:"left"},[e("v-uni-image",{attrs:{"lazy-load":!0,src:t.imageSrcsupplier,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-view",{staticClass:"top"},[t._v(t._s(t.supliername))]),e("v-uni-view",{staticClass:"foo"},[e("v-uni-view",{staticClass:"foo_left"},[t._v("供应商代码："+t._s(t.supliercode))]),t.ispersonaltwoitems?e("v-uni-view",{staticClass:"foo_right"},[t._v("当前选择")]):t._e()],1)],1)],1)],1):t._e(),t._l(t.roletmplist,(function(i,a){return e("v-uni-view",{key:a,staticClass:"items_border",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.roleitemsclick(a)}}},[e("v-uni-view",{class:["items",i.roleitemsactive?"active":""]},[e("v-uni-view",{staticClass:"left"},[e("v-uni-image",{attrs:{"lazy-load":!0,src:i.avatar,mode:"aspectFill"}})],1),e("v-uni-view",{staticClass:"right"},[e("v-uni-view",{staticClass:"top"},[t._v(t._s(i.short))]),e("v-uni-view",{staticClass:"foo"},[e("v-uni-view",{staticClass:"foo_left"},[t._v("公司代码："+t._s(i.code))]),i.isthiscompany?e("v-uni-view",{staticClass:"foo_right"},[t._v("当前公司")]):t._e()],1)],1)],1)],1)}))],2)],1),e("v-uni-view",{staticClass:"button"},[e("v-uni-view",{staticClass:"left",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancel.apply(void 0,arguments)}}},[t._v("创建公司")]),e("v-uni-view",{staticClass:"right",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.send.apply(void 0,arguments)}}},[t._v("加入公司")])],1)],1)],1)],1)],1):t._e(),e("v-uni-view",{staticStyle:{width:"100%",height:"50px"}}),e("v-uni-view",[e("bottomTab",{attrs:{tabIndex:"1",tabListParent:t.tabList}})],1)],1)},l=[];e.d(i,"b",(function(){return o})),e.d(i,"c",(function(){return l})),e.d(i,"a",(function(){return a}))},b3f1:function(t,i,e){var a=e("74ce");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=e("4f06").default;o("563c37b3",a,!0,{sourceMap:!1,shadowMode:!1})},cbe3:function(t,i,e){"use strict";e.r(i);var a=e("b272"),o=e("6910");for(var l in o)"default"!==l&&function(t){e.d(i,t,(function(){return o[t]}))}(l);e("28c0");var n,s=e("f0c5"),r=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"7a7022f5",null,!1,a["a"],n);i["default"]=r.exports},de08:function(t,i,e){"use strict";var a=e("ee27");e("ac1f"),e("1276"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o,l=a(e("b03a")),n=a(e("6e7c")),s={components:{bottomTab:l.default,bottomTabstaff:n.default},data:function(){return{tabList:[{id:1,name:"首页",imgOff:"/static/img/shouye.png",imgOn:"/static/img/shouyeactive.png",url:"/pages/tab/indextwo/indextwo"},{id:2,name:"工地",imgOff:"/static/img/paiqi.png",imgOn:"/static/img/paiqiactive2.png",url:"/pages/tab/projecttwo/projecttwo"},{id:4,name:"客户",imgOff:"/static/img/xiaoshou.png",imgOn:"/static/img/xiaoshouactive2.png",url:"/pages/tab/mytwo/mytwo"}],tabListtwo:[{id:1,name:"首页",imgOff:"/static/img/shouye.png",imgOn:"/static/img/shouyeactive.png",url:"/pages/index/index"},{id:2,name:"工地",imgOff:"/static/img/paiqi.png",imgOn:"/static/img/paiqiactive2.png",url:"/pages/project/project"},{id:3,name:"管理",imgOff:"/static/img/fuwu.png",imgOn:"/static/img/fuwuactive2.png",url:"/pages/management/management"},{id:4,name:"客户",imgOff:"/static/img/xiaoshou.png",imgOn:"/static/img/xiaoshouactive2.png",url:"/pages/my/my"}],title:"Hello",offerTwo:[{icon:"icondianxian",title:"电线",type:1},{icon:"iconarmchair",title:"瓷砖",type:2},{icon:"iconbath-",title:"柜子",type:3},{icon:"iconchufang",title:"电线",type:4},{icon:"iconchaojiwudi-yangtai",title:"空调暖气",type:5}],offerOne:[{icon:"icondianxian",title:"电线",type:1},{icon:"iconcizhuan",title:"瓷砖",type:2},{icon:"iconguizi",title:"柜子",type:3},{icon:"iconyouqi1",title:"油漆",type:4},{icon:"icondiban",title:"地板",type:5},{icon:"icontaideng",title:"灯具",type:6},{icon:"iconxiyu",title:"洁具",type:7},{icon:"icondoor",title:"门",type:8},{icon:"iconkongdiao",title:"空调暖气",type:9},{icon:"iconwujin",title:"五金件",type:10}],imageSrchead:"",toggleroleBlock:!1,personalitemsactive:!1,ispersonalitems:!1,userinfo:{},roletmplist:[],roleitemsactive:!1,rolesendnum:"",titleroletext:"个人版",iscompany:"",staffapplynum:"",staffapplynumblock:!1,imageSrcsupplier:"",issupplierblock:!1,ispersonblock:!1,personalitemstwoactive:!1,ispersonaltwoitems:!1,supliercode:"",suplierid:"",issupplierid:!1,supliername:"",userid:""}},onLoad:function(){o=this},onShow:function(){o.getuserInformation()},methods:{totip:function(){uni.navigateTo({url:"/pages/management/notice/notice"})},getcompanytmplist:function(){o.issupplierid?(console.log("查询当前身份为供应商所在的公司列表"),o.post("api/supplier/company_list",{supplier_code:o.supliercode},(function(t){if(1===t.code)t.data&&(o.roletmplist=t.data,o.each(o.roletmplist,(function(t,i){i["isthiscompany"]=!1,i.id==o.iscompany&&(o.$set(o.roletmplist[t],"isthiscompany",!0),o.$set(o.roletmplist[t],"roleitemsactive",!0),o.$set(o,"titleroletext",i.short),o.$set(o,"ispersonalitems",!1)),i.avatar?i.avatar=i.avatar:i.avatar="/static/img/zhang.png"})));else{var i=t.msg.split("(",2);o.echo(i[0])}}))):o.post("api/staff/company_list",{user_id:o.userinfo.user_id},(function(t){if(1===t.code)t.data&&(o.roletmplist=t.data,o.each(o.roletmplist,(function(t,i){i["isthiscompany"]=!1,i.id==o.iscompany&&(o.$set(o.roletmplist[t],"isthiscompany",!0),o.$set(o.roletmplist[t],"roleitemsactive",!0),o.$set(o,"titleroletext",i.short),o.$set(o,"ispersonalitems",!1)),i.avatar?i.avatar=i.avatar:i.avatar="/static/img/zhang.png"})));else{var i=t.msg.split("(",2);o.echo(i[0])}}))},cancel:function(){uni.navigateTo({url:"/pages/my/myinfomation/addcompany/addcompany"}),o.toggleroleBlock=!1},canclemodule:function(){o.toggleroleBlock=!1,o.getuserInformation()},cancleblockclick:function(){o.toggleroleBlock=!1},send:function(){uni.navigateTo({url:"/pages/my/myinfomation/joincompany/joincompany"}),o.toggleroleBlock=!1},noneclick:function(){console.log("kkk")},personalitemsclick:function(){o.each(o.roletmplist,(function(t,i){o.$set(o.roletmplist[t],"roleitemsactive",!1)})),o.personalitemsactive=!0,o.rolesendnum="individual|0",console.log(o.rolesendnum),o.post("api/role/toggle_role",{role:o.rolesendnum},(function(t){if(1===t.code)o.updateuser(),o.echo("切换成功！"),uni.setStorage({key:"update_my",data:!0}),setTimeout((function(){uni.reLaunch({url:"/pages/tab/indextwo/indextwo"}),o.getuserInformation()}),10),o.toggleroleBlock=!1;else{var i=t.msg.split("(",2);o.echo(i[0])}}))},personaltwoitemsclick:function(){o.each(o.roletmplist,(function(t,i){o.$set(o.roletmplist[t],"roleitemsactive",!1)})),o.personalitemsactive=!0,o.rolesendnum="supplier|".concat(o.suplierid),o.post("api/role/toggle_role",{role:o.rolesendnum},(function(t){if(1===t.code)o.updateuser(),o.echo("切换成功！"),uni.setStorage({key:"update_my",data:!0}),setTimeout((function(){uni.reLaunch({url:"/pages/tab/indextwo/indextwo"}),o.getuserInformation()}),10),o.toggleroleBlock=!1;else{var i=t.msg.split("(",2);o.echo(i[0])}}))},roleitemsclick:function(t){o.personalitemsactive=!1,o.each(o.roletmplist,(function(t,i){o.$set(o.roletmplist[t],"roleitemsactive",!1)})),o.$set(o.roletmplist[t],"roleitemsactive",!0),o.rolesendnum="company|"+o.roletmplist[t].id,o.post("api/role/toggle_role",{role:o.rolesendnum},(function(t){if(1===t.code)o.updateuser(),o.echo("切换成功！"),uni.setStorage({key:"update_my",data:!0}),setTimeout((function(){uni.reLaunch({url:"/pages/tab/indextwo/indextwo"}),o.getuserInformation()}),10),o.toggleroleBlock=!1;else{var i=t.msg.split("(",2);o.echo(i[0])}}))},toggleRole:function(){o.toggleroleBlock=!0},getStaffapplynum:function(){o.post("api/notice/pull",{ftid:o.userid},(function(t){1===t.code&&(o.applylisttmp=t.data,t.data&&(o.staffapplynum=o.applylisttmp.length,o.applylisttmp.length>0?(o.$set(o,"staffapplynumblock",!0),o.$forceUpdate()):(o.$set(o,"staffapplynumblock",!1),o.$forceUpdate())))}))},getuserInformation:function(){o.post("api/user/index",{},(function(t){if(1===t.code)t.data.userinfo.avatar?o.$set(o,"imageSrchead",t.data.userinfo.avatar):"2"==t.data.userinfo.gender?o.$set(o,"imageSrchead","/static/img/nv.png"):o.$set(o,"imageSrchead","/static/img/nan.png"),o.userinfo=t.data.userinfo,o.rolesendnum=o.userinfo.userinfo.role,o.userid=o.userinfo.id,o.getStaffapplynum(),o.post("api/staff/supplier_list",{user_id:o.userid},(function(t){if(1===t.code){var i="";0==t.data.length?(o.$set(o,"issupplierid",!1),"individual|0"==o.userinfo.userinfo.role?(o.iscompany="-1",o.$set(o,"personalitemsactive",!0),o.$set(o,"titleroletext","个人版"),o.$set(o,"ispersonalitems",!0),o.$set(o,"issupplierblock",!1),o.$set(o,"ispersonblock",!0),o.getcompanytmplist()):(o.$set(o,"personalitemsactive",!1),o.$set(o,"ispersonalitems",!1),o.iscompany=o.userinfo.userinfo.role.split("|")[1],o.getcompanytmplist())):(i=t.data[0].supplier_id,o.$set(o,"issupplierid",!0),console.log("我是供应商"),o.$set(o,"personalitemsactive",!1),o.$set(o,"ispersonalitems",!1),o.$set(o,"issupplierblock",!0),o.$set(o,"ispersonblock",!1),o.post("api/supplier/detail",{id:i},(function(t){if(1===t.code)t.data.logo?o.$set(o,"imageSrcsupplier",t.data.logo):o.imageSrcsupplier="/static/img/zhang.png",o.$set(o,"supliercode",t.data.code),o.$set(o,"suplierid",t.data.id),o.$set(o,"supliername",t.data.name),"supplier"==o.userinfo.userinfo.role.split("|")[0]?(o.$set(o,"ispersonaltwoitems",!0),o.$set(o,"personalitemstwoactive",!0),o.$set(o,"titleroletext",t.data.name),o.iscompany="-2",o.getcompanytmplist()):"individual|0"==o.userinfo.userinfo.role?(o.iscompany="-1",o.$set(o,"personalitemsactive",!0),o.$set(o,"titleroletext","个人版"),o.$set(o,"ispersonalitems",!0),o.$set(o,"issupplierblock",!1),o.$set(o,"ispersonblock",!0),o.getcompanytmplist()):(o.$set(o,"personalitemsactive",!1),o.$set(o,"ispersonalitems",!1),o.$set(o,"ispersonaltwoitems",!1),o.$set(o,"personalitemstwoactive",!1),o.$set(o,"iscompany",o.userinfo.userinfo.role.split("|")[1]),o.getcompanytmplist());else{var i=t.msg.split("(",2);o.echo(i[0])}})))}else{var e=t.msg.split("(",2);o.echo(e[0])}}));else{var i=t.msg.split("(",2);o.echo(i[0])}}))},myInfomation:function(){uni.navigateTo({url:"/pages/my/myinfomation/myinfomation"})}}};i.default=s}}]);