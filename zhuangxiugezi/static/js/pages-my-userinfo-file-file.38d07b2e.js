(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-userinfo-file-file"],{"13d3":function(t,e,i){"use strict";i.r(e);var o=i("7ed6"),n=i("8f3e");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("a78a");var l,s=i("f0c5"),c=Object(s["a"])(n["default"],o["b"],o["c"],!1,null,"19fc81e0",null,!1,o["a"],l);e["default"]=c.exports},7558:function(t,e,i){var o=i("7fc9");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var n=i("4f06").default;n("1cc458ef",o,!0,{sourceMap:!1,shadowMode:!1})},"7ed6":function(t,e,i){"use strict";var o={uniPopup:i("8b29").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"topmargin"},[i("v-uni-view",{staticClass:"status",staticStyle:{"{background":"#fff}"}}),i("v-uni-view",{staticClass:"nav-bar"},[t.menushow?t._e():i("v-uni-view",{staticClass:"back",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.backfee.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont iconleft"}),i("v-uni-view",{staticClass:"text"},[t._v("返回")])],1),t.menushow?i("v-uni-view",{staticClass:"back",staticStyle:{left:"30upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancelmenushow.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"text"},[t._v("取消")])],1):t._e(),i("v-uni-text",{staticClass:"title"},[t._v("客户资料")])],1),i("v-uni-view",{staticClass:"place",staticStyle:{"{height":"44upx"}})],1),i("v-uni-view",{staticClass:"mainmenumargin"},[i("v-uni-view",{staticClass:"mainmenu"},[i("v-uni-view",{staticClass:"xpadding"}),i("v-uni-view",{staticClass:"xxtabber"},[i("v-uni-view",{class:["items","one"===t.tab?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tgTab("one")}}},[i("v-uni-text",[t._v("设计施工图")])],1),i("v-uni-view",{class:["items","two"===t.tab?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tgTab("two")}}},[i("v-uni-text",[t._v("报价清单")])],1),i("v-uni-view",{class:["items","three"===t.tab?"active":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tgTab("three")}}},[i("v-uni-text",[t._v("重要资料")])],1)],1)],1)],1),i("v-uni-view",{staticStyle:{width:"100%",height:"130upx","background-color":"#fafafa"}}),i("v-uni-view",{staticClass:"main"},[0==t.filelistdata.length?i("v-uni-view",{staticClass:"xlistmargin"},[t._v("暂无文件！")]):t._e(),i("v-uni-view",{staticClass:"filelist"},[t._l(t.filelistdata,(function(e,o){return i("v-uni-view",{key:o,staticClass:"flowtwolistmargin",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.lookfile(e,o)},longpress:function(i){arguments[0]=i=t.$handleEvent(i),t.longclick(e,o)}}},[i("v-uni-view",{staticClass:"flowtwolist_li"},[i("v-uni-view",{staticClass:"flowtwolist_lileft"},[i("v-uni-view",{staticClass:"flowtwolist_lilefttop"},[e.imgstyle?t._e():i("v-uni-view",{staticClass:"iconone"},[i("v-uni-image",{attrs:{src:e.iconimg}})],1),e.imgstyle?i("v-uni-view",{staticClass:"iconimage"},[i("v-uni-image",{attrs:{src:e.s_pic}})],1):t._e()],1)],1),i("v-uni-view",{staticClass:"flowtwolist_liright"},[i("v-uni-view",{staticClass:"flowli_rightname"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"flowli_rightfoo"},[i("v-uni-view",{staticClass:"flowli_rightfooleft"},[t._v(t._s(e.createtime))]),i("v-uni-view",{staticClass:"flowli_rightfooright"},[t._v(t._s(e.size))])],1)],1),t.menushow?i("v-uni-view",{staticClass:"irighttwo"},[i("v-uni-view",{class:["iconfont",e.ischeck?"iconxuanzhong":"iconxuanzhongyuandian"]})],1):t._e()],1),i("v-uni-view",{staticStyle:{height:"20upx",width:"100%"}})],1)})),t.filelistnum>10&&0!==t.filelistdata.length?i("v-uni-view",{staticClass:"loading-text"},[t._v(t._s(t.loadMoreTextone))]):t._e()],2)],1),i("l-file",{ref:"lFile",on:{"up-success":function(e){arguments[0]=e=t.$handleEvent(e),t.onSuccess.apply(void 0,arguments)}}}),t.menushow?i("v-uni-view",{staticClass:"menu_fixed"},[0==t.checknum||1==t.checknum?i("v-uni-view",{staticClass:"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changename.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"iconfont iconi"}),i("v-uni-view",{staticClass:"text"},[t._v("重命名")])],1):t._e(),0==t.checknum||1==t.checknum?i("v-uni-view",{staticClass:"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.downfile()}}},[i("v-uni-view",{staticClass:"iconfont iconxiazai1"}),i("v-uni-view",{staticClass:"text"},[t._v("下载")])],1):t._e(),i("v-uni-view",{staticClass:"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deletefileitemsclick()}}},[i("v-uni-view",{staticClass:"iconfont iconshanchu1"}),i("v-uni-view",{staticClass:"text"},[t._v("删除")])],1)],1):t._e(),i("uni-popup",{ref:"dialogInput",attrs:{type:"dialog"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("uni-popup-dialog",{attrs:{mode:"input",title:"重命名",value:t.changeitemsname,placeholder:"请输入内容"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.dialogInputConfirm.apply(void 0,arguments)}}})],1),i("graceFullLoading",{attrs:{graceFullLoading:t.graceFullLoading,logoUrl:"/static/img/logoone.gif"}})],1)},a=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}))},"7fc9":function(t,e,i){var o=i("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.topmargin .status[data-v-19fc81e0]{width:100%;height:0;position:fixed;background-image:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background-image:linear-gradient(90deg,#2466ad,#2b7ed1);z-index:10;top:0}.topmargin .nav-bar[data-v-19fc81e0]{width:100%;height:%?88?%;line-height:%?88?%;background-image:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background-image:linear-gradient(90deg,#2466ad,#2b7ed1);display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;overflow:hidden;top:0;z-index:10\r\n  /* .back {\r\n\t\t\tmargin: 0 2px;\r\n\t\t\twidth: 27px;\r\n\t\t\theight: 30px;\r\n\t\t\tflex-shrink: 0;\r\n\t\t}\r\n\t\t.middle {\r\n\t\t\tcolor: white;\r\n\t\t\twidth: 80%;\r\n\t\t\theight: 44px;\r\n\t\t\tline-height: 44px;\r\n\t\t\tpadding: 0 10%;\r\n\t\t\tfont-size: 16px;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t\t.icon-btn {\r\n\t\t\tmargin: 0 2px;\r\n\t\t\twidth: 27px;\r\n\t\t\theight: 30px;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\t.iconfont {\r\n\t\t\t\tcolor: white;\r\n\t\t\t\twidth: 27px;\r\n\t\t\t\theight: 27px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tfont-size: 21px;\r\n\t\t\t}\r\n\t\t} */}.topmargin .nav-bar .topimg[data-v-19fc81e0]{width:%?45?%;height:%?45?%;margin-left:%?33?%;overflow:hidden}.topmargin .nav-bar .topimg uni-image[data-v-19fc81e0]{width:100%;height:100%}.topmargin .nav-bar .back[data-v-19fc81e0]{height:%?88?%;position:absolute;left:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.topmargin .nav-bar .back .iconfont[data-v-19fc81e0]{font-size:%?40?%;color:#fff;line-height:%?90?%}.topmargin .nav-bar .back .text[data-v-19fc81e0]{font-size:%?32?%;color:#fff}.topmargin .nav-bar .avatar[data-v-19fc81e0]{height:%?45?%;line-height:%?45?%;border-radius:50%;position:absolute;right:%?30?%;top:%?22?%;color:#fff;font-size:%?32?%}.topmargin .nav-bar .avatar .avatar_text[data-v-19fc81e0]{font-size:%?32?%;color:#fff}.topmargin .nav-bar .avatar .tipnum[data-v-19fc81e0]{position:absolute;right:%?-2?%;top:%?-2?%;font-size:%?22?%;color:#fff;width:%?22?%;height:%?22?%;line-height:%?22?%;border-radius:50%;text-align:center;background-color:#ef261e}.topmargin .nav-bar .avatar .cloak[data-v-19fc81e0]{display:block}.topmargin .nav-bar .avatar uni-image[data-v-19fc81e0]{display:block;width:%?45?%;height:%?45?%}.topmargin .nav-bar .avatar .iconfont[data-v-19fc81e0]{font-size:%?42?%;color:#fff}.topmargin .nav-bar .title[data-v-19fc81e0]{width:100%;height:%?88?%;line-height:%?88?%;font-size:%?38?%;color:#fff;text-align:center;background-image:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background-image:linear-gradient(90deg,#2466ad,#2b7ed1)}.topmargin .nav-bar .stt[data-v-19fc81e0]{line-height:%?110?%;font-size:%?30?%;color:#fff;position:absolute;right:%?30?%;top:0}.topmargin .place[data-v-19fc81e0]{height:%?88?%}uni-page-body[data-v-19fc81e0]{background-color:#f9f9f9;height:100%}.main .filelist[data-v-19fc81e0]{width:100%}.main .filelist .flowtwolistmargin .flowtwolist_li[data-v-19fc81e0]{width:100%;height:%?168?%;border-top:1px solid #f1f1f1;border-bottom:1px solid #f1f1f1;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;position:relative}.main .filelist .flowtwolistmargin .flowtwolist_li .irighttwo[data-v-19fc81e0]{position:absolute;right:%?30?%;top:%?20?%;font-size:%?30?%;margin-left:%?20?%}.main .filelist .flowtwolistmargin .flowtwolist_li .irighttwo .iconxuanzhong[data-v-19fc81e0]{font-size:%?36?%;color:#2468b1}.main .filelist .flowtwolistmargin .flowtwolist_li .irighttwo .iconxuanzhongyuandian[data-v-19fc81e0]{font-size:%?36?%;color:#999}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_lileft[data-v-19fc81e0]{margin:%?24?% 0;height:%?120?%;border-right:1px solid #f1f1f1;width:%?154?%}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_lileft .flowtwolist_lilefttop .iconone[data-v-19fc81e0]{margin-left:%?50?%;width:%?60?%;height:%?60?%;margin-top:%?30?%;border-radius:%?10?%;overflow:hidden}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_lileft .flowtwolist_lilefttop .iconone uni-image[data-v-19fc81e0]{width:100%;height:100%}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_lileft .flowtwolist_lilefttop .iconimage[data-v-19fc81e0]{margin-left:%?40?%;width:%?80?%;height:%?80?%;margin-top:%?20?%;border-radius:%?10?%;overflow:hidden}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_lileft .flowtwolist_lilefttop .iconimage uni-image[data-v-19fc81e0]{width:%?80?%;height:%?80?%}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_lileft .flowtwolist_lileftfoo[data-v-19fc81e0]{width:%?118?%;margin-top:%?10?%;height:%?40?%;line-height:%?40?%;margin-left:%?30?%;text-align:center;font-size:%?28?%;color:#666;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright[data-v-19fc81e0]{width:%?560?%;margin-left:%?10?%;margin-right:%?30?%}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightname[data-v-19fc81e0]{max-width:%?520?%;color:#666;font-size:%?30?%;margin-top:%?35?%;height:%?40?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightcen[data-v-19fc81e0]{color:#666;font-size:%?26?%;height:%?54?%;line-height:%?54?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightcen .fr_left[data-v-19fc81e0]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-right:%?7?%}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightcen .fr_right[data-v-19fc81e0]{text-align:right;color:#2468b1;font-size:%?26?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightfoo[data-v-19fc81e0]{margin-top:%?20?%;height:%?30?%;line-height:%?30?%;width:100%;color:#666;font-size:%?26?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightfoo .flowli_rightfooleft[data-v-19fc81e0]{color:#999;font-size:%?24?%;min-width:%?200?%;margin-right:%?7?%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightfoo .flowli_rightfooright[data-v-19fc81e0]{max-width:%?355?%;color:#cdcdcd;font-size:%?24?%;text-align:right;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.main .filelist .flowtwolistmargin .flowtwolist_li .flowtwolist_liright .flowli_rightfoo .flowli_rightfoorighttwo[data-v-19fc81e0]{color:#cdcdcd;font-size:%?24?%}.main .filelist .flowtwolistmargin .flowtwolist_li .redblock[data-v-19fc81e0]{position:absolute;top:%?-10?%;right:%?20?%;text-align:center}.main .filelist .flowtwolistmargin .flowtwolist_li .redblock .iconfont[data-v-19fc81e0]{color:#2468b1;font-size:%?70?%}.main .addfile[data-v-19fc81e0]{width:%?690?%;height:%?400?%;margin:%?30?% %?30?% 0 %?30?%;background-color:#f4f5f5;border-radius:%?20?%;position:relative}.main .addfile .topicon[data-v-19fc81e0]{position:absolute;left:%?285?%;top:%?120?%;width:%?120?%;height:%?120?%;text-align:center;line-height:%?120?%;border-radius:%?10?%;border:1px solid #999}.main .addfile .topicon .iconfont[data-v-19fc81e0]{color:#999;font-size:%?50?%}.main .addfile .text[data-v-19fc81e0]{padding-top:%?260?%;text-align:center;font-size:%?40?%;color:#999}.mainmenumargin[data-v-19fc81e0]{position:fixed;top:%?88?%;z-index:10;background-color:#f9f9f9}.mainmenu[data-v-19fc81e0]{width:100%;height:100%;background-color:#fafafa}.mainmenu .mtabber[data-v-19fc81e0]{width:%?690?%;height:%?160?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fafafa;padding:0 %?30?% 0 %?30?%}.mainmenu .mtabber .items[data-v-19fc81e0]{width:calc(100% / 2);height:%?160?%;font-size:%?34?%;color:#666;text-align:center;position:relative}.mainmenu .mtabber .items .mimage[data-v-19fc81e0]{width:%?80?%;height:%?80?%;padding-top:%?10?%;padding-bottom:%?10?%;margin:0 auto}.mainmenu .mtabber .items .mimage uni-image[data-v-19fc81e0]{width:100%;height:100%}.mainmenu .mtabber .items .mimage .iconfont[data-v-19fc81e0]{font-size:%?86?%;color:#666}.mainmenu .mtabber .items uni-text[data-v-19fc81e0]{height:%?60?%;font-size:%?30?%;color:#333}.mainmenu .mtabber .active .mimage .iconfont[data-v-19fc81e0]{font-size:%?86?%;color:#2468b1}.mainmenu .mtabber .active uni-text[data-v-19fc81e0]{height:%?60?%;font-size:%?30?%;color:#2468b1}.mainmenu .mtabber .active[data-v-19fc81e0]:after{position:absolute;bottom:0;left:5%;width:90%;height:%?5?%;content:"";background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1)}.fixed_add[data-v-19fc81e0]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border:3px solid #999;position:fixed;bottom:%?40?%;width:%?120?%;height:%?120?%;line-height:%?120?%;z-index:100;border-radius:50%;margin-left:%?315?%}.fixed_add .iconfont[data-v-19fc81e0]{font-size:%?80?%;color:#999;text-align:center}.fixed_add .text[data-v-19fc81e0]{font-size:%?36?%;color:#fff}.menu_fixed[data-v-19fc81e0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:%?100?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);position:fixed;bottom:0;width:100%;-webkit-justify-content:space-around;justify-content:space-around;z-index:999!important}.menu_fixed .left[data-v-19fc81e0]{width:100%;height:%?100?%;text-align:center}.menu_fixed .left .iconfont[data-v-19fc81e0]{font-size:%?36?%;color:#fff;margin-top:%?10?%}.menu_fixed .left .text[data-v-19fc81e0]{margin-top:%?2?%;font-size:%?24?%;color:#fff}.xxtabber[data-v-19fc81e0]{width:%?690?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff;padding:0 %?30?% 0 %?30?%}.xxtabber .items[data-v-19fc81e0]{width:calc(100% / 3);line-height:%?88?%;font-size:%?36?%;color:#666;text-align:center;position:relative}.xxtabber .active[data-v-19fc81e0]{color:#2468b1}.xxtabber .active[data-v-19fc81e0]:after{position:absolute;bottom:0;left:0;width:100%;height:%?5?%;content:"";background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1)}.grace-full-loading[data-v-19fc81e0]{width:100%;height:calc(100% - %?200?%);background:#fff;position:fixed;z-index:99;left:0;top:%?200?%}body.?%PAGE?%[data-v-19fc81e0]{background-color:#f9f9f9}',""]),t.exports=e},"8f3e":function(t,e,i){"use strict";i.r(e);var o=i("e01c"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},a78a:function(t,e,i){"use strict";var o=i("7558"),n=i.n(o);n.a},e01c:function(t,e,i){"use strict";var o=i("ee27");i("99af"),i("baa5"),i("b680"),i("d3b7"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n,a=o(i("c964")),l=o(i("c4fc")),s=o(i("92fa")),c=o(i("9fee")),f={components:{lFile:l.default,uniPopupDialog:s.default,graceFullLoading:c.default},data:function(){return{graceFullLoading:!0,projectid:"",filelistdata:[],imageSrc:"",userinfo:{},path:"",iscompany:"",changeshow:!1,ismanager:!1,tab:"one",menushow:!1,checknum:0,msgType:"success",changeitemsname:"",changefilenamedata:{},usertoken:"",loadMoreTextone:"加载中...",showLoadMoreone:!1,loadMoreTexttwo:"加载中...",showLoadMoretwo:!1,loadMoreTextthree:"加载中...",showLoadMorethree:!1,pageone:1,pagetwo:1,pagethree:1,filelistnum:"",phonetype:""}},onUnload:function(){n.pageone=1,n.pagetwo=1,n.pagethree=1,n.filelistdata=[],n.loadMoreTextone="加载中...",n.loadMoreTexttwo="加载中...",n.loadMoreTextthree="加载中...",n.showLoadMoreone=!1,n.showLoadMoretwo=!1,n.showLoadMorethree=!1},onReachBottom:function(){console.log("onReachBottom"),n.onbottomone()},onPullDownRefresh:function(){n.graceFullLoading=!0,console.log("refresh"),n.pageone=1,n.pagetwo=1,n.pagethree=1,n.loadMoreTextone="加载中...",n.loadMoreTexttwo="加载中...",n.loadMoreTextthree="加载中...",n.showLoadMoreone=!1,n.showLoadMoretwo=!1,n.showLoadMorethree=!1,setTimeout((function(){n.getfilelist()}),200)},onLoad:function(t){n=this,n.projectid=t.id,"false"==t.role?n.ismanager=!1:"true"==t.role&&(n.ismanager=!0,setTimeout((function(){n.isshowuploadH5()}),200)),n.getuser((function(t){console.log(t),n.userinfo=t.data,n.iscompany=n.userinfo.userinfo.role.split("|")[1]})),n.getuser((function(t){n.usertoken=t.data.token,console.log(n.usertoken),n.getfilelist()}))},methods:{isshowuploadH5:function(){setTimeout((function(){var t=n.checkUrlFile();console.log(t),console.log("addddddddddddddddddd"),n.$refs.lFile.upload({url:t+"api/common/upfile?token="+n.userinfo.token,name:"file"})}),200)},noshowuploadH5:function(){setTimeout((function(){var t=n.checkUrlFile();console.log(t),console.log("gggggggggggggggggg"),n.$refs.lFile.close({url:"",name:"file"})}),200)},dialogConfirm:function(t){this.$refs.popupMessage.open(),console.log("点击确认"),t()},dialogInputConfirm:function(t,e){uni.showLoading({title:"重命名中..."}),console.log(t),console.log(e),console.log(n.changefilenamedata);var i=e+"."+n.changefilenamedata.ext;n.post("api/file/add",{id:n.changefilenamedata.id,user_id:n.changefilenamedata.user_id,order_id:n.changefilenamedata.order_id,pathfile:n.changefilenamedata.pathfile,name:i,company_id:n.changefilenamedata.company_id,class:n.changefilenamedata.class},(function(e){1===e.code?(console.log(e),uni.hideLoading(),n.echo("重命名成功~"),n.$set(n,"menushow",!1),t(),n.getfilelist()):n.echo(e.msg)}))},dialogClose:function(t){this.msgType="info",this.message="点击了对话框的取消按钮",this.$refs.popupMessage.open(),t()},change:function(t){console.log("popup "+t.type+" 状态",t.show)},fn:function(){return new Promise((function(t,e){setTimeout((function(){t("异步后执行")}),1e3)}))},filedatadelete:function(){return new Promise((function(t,e){n.each(n.filelistdata,(function(e,i){i.ischeck&&n.post("api/file/del",{id:i.id},(function(e){1===e.code?(console.log(e),t("异步后执行1111111")):n.echo(e.msg)}))}))}))},deletefileitemsclick:function(){uni.showLoading({title:"文件删除中..."});var t=function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.filedatadelete();case 2:t.sent,uni.hideLoading(),n.echo("删除成功~"),n.getfilelist(),n.$set(n,"menushow",!1),n.$forceUpdate();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()},cancelmenushow:function(){n.$set(n,"menushow",!1),n.each(n.filelistdata,(function(t,e){e.ischeck=!1})),n.$forceUpdate()},sendmenushow:function(){n.$set(n,"menushow",!1),n.each(n.filelistdata,(function(t,e){e.ischeck=!1})),n.$forceUpdate(),n.getfilelist()},longclick:function(t,e){n.each(n.filelistdata,(function(t,e){e.ischeck=!1})),console.log("long"),n.$set(n,"menushow",!0),n.$set(n.filelistdata[e],"ischeck",!0)},tgTab:function(t){n.pageone=1,n.pagetwo=1,n.pagethree=1,n.loadMoreTextone="加载中...",n.loadMoreTexttwo="加载中...",n.loadMoreTextthree="加载中...",n.showLoadMoreone=!1,n.showLoadMoretwo=!1,n.showLoadMorethree=!1,n.each(n.filelistdata,(function(t,e){e.ischeck=!1})),n.$set(n,"menushow",!1),n.tab=t,n.graceFullLoading=!0,n.getfilelist()},changename:function(){n.each(n.filelistdata,(function(t,e){if(e.ischeck){var i=e.name,o=i.lastIndexOf(".");i=i.substring(0,o),n.changeitemsname=i,n.changefilenamedata=e,n.$forceUpdate()}})),console.log(n.changeitemsname),this.$refs.dialogInput.open()},deletefileclick:function(){n.$set(n,"changeshow",!0)},deletefile:function(t){console.log("sssssssc"),n.post("api/file/del",{id:t.id},(function(t){1===t.code?(console.log(t),n.echo("删除成功"),n.getfilelist(),uni.setStorage({key:"willUpdate",data:!0})):n.echo(t.msg)}))},canceldeleteclick:function(){n.$set(n,"changeshow",!1)},getfilelist:function(){var t;"one"==n.tab?t="CAD":"two"==n.tab?t="Office":"three"==n.tab&&(t="Files"),console.log("gettmp");var e=n.checkUrlCdn();console.log(e),n.post("api/file/filelist",{order_id:n.projectid,page:1,limit:10,class:t},(function(t){1===t.code?(console.log(t),n.filelistdata=t.data.rows,n.filelistnum=t.data.total,setTimeout((function(){n.graceFullLoading=!1}),200),n.filelistdata&&n.looptmplist(n.filelistdata)):(console.log(t.msg),n.echo(t.msg))}))},onbottomone:function(){var t;if("one"==n.tab?t="CAD":"two"==n.tab?t="Office":"three"==n.tab&&(t="Files"),console.log(n.showLoadMoreone),!1===n.showLoadMoreone){if(1==n.showLoadMoreone)return;n.pageone=n.pageone+1,n.$set(n,"loadMoreTextone","正在加载..."),console.log("one buttom"),n.post("api/file/filelist",{order_id:n.projectid,page:n.pageone,limit:10,class:t},(function(t){if(1===t.code){if(n.filelistdata.length>0)if(console.log("res.data.rows.length"+t.data.rows.length),t.data.rows.length>0){var e=[];e=t.data.rows,n.looptmplist(e),n.filelistdata=n.filelistdata.concat(e)}else n.$set(n,"showLoadMoreone",!0),n.$set(n,"loadMoreTextone","已加载全部！");else n.filelistdata=t.data.rows,n.filelistdata&&n.looptmplist(n.filelistdata);console.log(n.filelistdata)}else{var i=t.msg.split("(",2);n.echo(i[0])}}))}else n.$set(n,"loadMoreTextone","已加载全部！"),n.$set(n,"showLoadMoreone",!0)},looptmplist:function(t){var e=n.checkUrlCdn();n.each(t,(function(t,i){i.s_pic=e+i.s_pic,i.pathfile=e+i.pathfile,i.createtime&&(i.createtime=n.timestampToTime(i.createtime)),i.size>0&&(i.size>1e3&&i.size<1048576?i.size>1e3?i.size=(i.size/1e3).toFixed(2)+"KB":i.size=i.size.toFixed(0)+"B":i.size<1e3?i.size=(i.size/1e3).toFixed(2)+"B":i.size=(i.size/1e6).toFixed(2)+"M"),i.ischeck=!1,"jpg"==i.ext||"png"==i.ext||"PNG"==i.ext||"JPG"==i.ext||"jpeg"==i.ext?(i.imgstyle=!0,i.icon="iconzhaoxiangji"):"xls"==i.ext||"xlsx"==i.ext?(i.icon="iconexl",i.iconimg="/static/img/file-x.png"):"docx"==i.ext||"doc"==i.ext?(i.icon="iconword",i.iconimg="/static/img/file-w.png"):"mp4"==i.ext||"avi"==i.ext||"AVI"==i.ext||"mov"==i.ext||"rmvb"==i.ext||"rm"==i.ext||"3GP"==i.ext||"FLV"==i.ext?(i.icon="iconshipin1",i.iconimg="/static/img/file-mp4.png"):"pdf"==i.ext?(i.icon="iconPDF",i.iconimg="/static/img/file-pdf.png"):"mp3"==i.ext||"amr"==i.ext?(i.icon="iconyinpin",i.iconimg="/static/img/file-mp3.png"):"txt"==i.ext?(i.icon="iconcaigoudan",i.iconimg="/static/img/file-t.png"):"cad"==i.ext?(i.icon="iconcaigoudan",i.iconimg="/static/img/file-cad2.png"):"zip"==i.ext?(i.icon="iconcaigoudan",i.iconimg="/static/img/file-zip.png"):(i.icon="iconwenjianziliao",i.iconimg="/static/img/file-yun1.png")}))},backfee:function(){uni.navigateBack({})},addfileclick:function(){var t=n.checkUrlFile();console.log(n.userinfo.token),console.log("addddddddddddddddddddddddddddddddddda"),console.log(n.$mp.page.$getAppWebview()),this.$refs.lFile.upload({url:t+"api/common/upfile?token="+n.userinfo.token,name:"file"})},onSuccess:function(t){console.log(t);var e=JSON.stringify(t);console.log(e),console.log(t.fileName);var i="";i=t.fileName;var o=t.data.id,a=JSON.parse(o);console.log(a.data.pathfile);var l="";"one"==n.tab?l="CAD":"two"==n.tab?l="Office":"three"==n.tab&&(l="Files"),n.post("api/file/add",{user_id:n.userinfo.id,order_id:n.projectid,pathfile:a.data.pathfile,name:i,company_id:n.iscompany,class:l},(function(t){1===t.code?(n.graceFullLoading=!0,n.getfilelist(),uni.setStorage({key:"willUpdate",data:!0})):(uni.showToast({title:"上传失败"}),console.log("ssssssssssssssssssssssssssssssssssssssb"),console.log(n.userinfo.id),console.log(n.projectid),console.log(a.data.pathfile),console.log(i),console.log(n.iscompany),console.log(t.msg))}))},lookfile:function(t,e){var i=this;if(console.log("aaaaaaaaaaaaaaaaaaaaaaa"+e),n.menushow)n.$set(n.filelistdata[e],"ischeck",!n.filelistdata[e].ischeck),n.checknum=0,n.each(n.filelistdata,(function(t,e){e.ischeck&&n.checknum++})),console.log(n.checknum),0==n.checknum&&(n.menushow=!1,n.each(n.filelistdata,(function(t,e){e.ischeck=!1}))),console.log(t.ischeck),n.$forceUpdate();else if("jpg"==t.ext||"png"==t.ext||"PNG"==t.ext||"JPG"==t.ext||"jpeg"==t.ext)uni.previewImage({urls:[t.pathfile]});else{var o=t.pathfile;this.$refs.lFile.download(o).then((function(t){i.$refs.lFile.open(t)}))}},downfile:function(){var t,e;uni.showLoading({title:"文件下载中..."}),n.each(n.filelistdata,(function(e,i){i.ischeck&&(t=i.pathfile)}));var i=t;n.$refs.lFile.download(i,"local").then((function(t){uni.hideLoading(),e=t,n.echo("存储位置为："+e)}))},onOpenDoc:function(){var t=this,e="https://ossweb-img.qq.com/images/lol/web201310/skin/big10001.jpg";this.$refs.lFile.download(e).then((function(e){t.$refs.lFile.open(e)}))},onDown:function(){var t=this,e="https://doc.wendoc.com/word/bde80cbcc2948a222a29694e150750c7759e81050-1.doc";this.$refs.lFile.download(e,"local").then((function(e){t.localPath=e}))}}};e.default=f}}]);