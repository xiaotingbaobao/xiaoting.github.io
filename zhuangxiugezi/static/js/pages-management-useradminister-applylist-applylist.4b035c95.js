(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-management-useradminister-applylist-applylist"],{"02c8":function(t,a,i){var e=i("5b13");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=i("4f06").default;n("1dc79481",e,!0,{sourceMap:!1,shadowMode:!1})},"0e84":function(t,a,i){"use strict";i.r(a);var e=i("4307"),n=i.n(e);for(var r in e)"default"!==r&&function(t){i.d(a,t,(function(){return e[t]}))}(r);a["default"]=n.a},4307:function(t,a,i){"use strict";var e=i("ee27");i("c975"),i("ac1f"),i("1276"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,r=e(i("9c7e")),s={components:{pageHeadBack:r.default},data:function(){return{iscompany:"",userinfo:{},applylisttmp:[],myroledata:"",ismanager:!1}},onLoad:function(){n=this,n.getuser((function(t){console.log(t),n.userinfo=t.data,console.log(n.userinfo),n.rolesendnum=n.userinfo.userinfo.role,n.iscompany=n.userinfo.userinfo.role.split("|")[1],n.getapplyList(),t.data.staff&&(n.myroledata=t.data.staff.roles,-1!==n.myroledata.indexOf(2)?n.ismanager=!0:-1!==n.myroledata.indexOf(3)&&(n.ismanager=!0))}))},methods:{getapplyList:function(){n.post("api/company/apply_list",{company_id:n.iscompany},(function(t){if(1===t.code)console.log(t),n.applylisttmp=t.data,n.each(n.applylisttmp,(function(t,a){a.avatar?a.avatar=a.avatar:2==a.gender?a.avatar="/static/img/nv.png":a.avatar="/static/img/nan.png"}));else{var a=t.msg.split("(",2);n.echo(a[0])}}))},disagree:function(t){n.ismanager?n.post("api/company/apply_pass",{company_id:n.iscompany,user_id:n.applylisttmp[t].user,refuse:1},(function(t){if(1===t.code)console.log(t),n.echo("已拒绝该用户成为该公司员工！"),setTimeout((function(){uni.navigateBack({delta:1})}),500);else{var a=t.msg.split("(",2);n.echo(a[0])}})):n.echo("只有创始人、店长可以拒绝哦~")},agree:function(t){n.ismanager?n.post("api/company/apply_pass",{company_id:n.iscompany,user_id:n.applylisttmp[t].user},(function(t){if(1===t.code)console.log(t),n.echo("已同意该用户成为该公司员工！"),setTimeout((function(){uni.navigateBack({delta:1})}),500);else{var a=t.msg.split("(",2);n.echo(a[0])}})):n.echo("只有创始人、店长可以同意哦~")}}};a.default=s},"4c0a":function(t,a,i){"use strict";var e=i("02c8"),n=i.n(e);n.a},"5b13":function(t,a,i){var e=i("24fb");a=e(!1),a.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-2909d05c]{background-color:#f1f1f1}.main[data-v-2909d05c]{width:100%}.main .list[data-v-2909d05c]{width:100%;background-color:#fff}.main .list .items[data-v-2909d05c]{width:calc(100% - %?60?%);padding:0 %?30?%;border-bottom:1px solid #f5f5f5;height:%?140?%;display:-webkit-box;display:-webkit-flex;display:flex}.main .list .items .left[data-v-2909d05c]{width:%?100?%;height:%?100?%;margin-top:%?20?%;border-radius:%?10?%;margin-right:%?20?%;overflow:hidden}.main .list .items .left uni-image[data-v-2909d05c]{width:100%;height:100%}.main .list .items .center[data-v-2909d05c]{margin-top:%?20?%;margin-bottom:%?20?%;width:%?310?%;height:%?100?%}.main .list .items .center .top[data-v-2909d05c]{width:%?310?%;height:%?60?%;line-height:%?60?%;font-size:%?35?%;color:#333}.main .list .items .center .foo[data-v-2909d05c]{width:%?310?%;font-size:%?28?%;color:#999}.main .list .items .right[data-v-2909d05c]{margin-top:%?20?%;margin-bottom:%?20?%;width:%?260?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex}.main .list .items .right .r_left[data-v-2909d05c]{width:%?120?%;height:%?60?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);font-size:%?30?%;color:#fff;margin-top:%?20?%;margin-right:%?20?%;border-radius:%?10?%;line-height:%?60?%;text-align:center}.main .list .items .right .active[data-v-2909d05c]{background:#999}.main .list .items .right .r_right[data-v-2909d05c]{margin-top:%?20?%;border-radius:%?10?%;width:%?120?%;height:%?60?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);font-size:%?30?%;color:#fff;line-height:%?60?%;text-align:center}.main .list .items .right .active[data-v-2909d05c]{background:#999}body.?%PAGE?%[data-v-2909d05c]{background-color:#f1f1f1}',""]),t.exports=a},a25d:function(t,a,i){"use strict";var e={pageHeadBack:i("9c7e").default},n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("page-head-back",{attrs:{title:"申请列表"}}),i("v-uni-view",{staticClass:"main"},[0==t.applylisttmp.length?i("v-uni-view",{staticClass:"xlistmargin"},[t._v("暂无申请！")]):t._e(),t.applylisttmp.length>0?i("v-uni-view",{staticClass:"list"},t._l(t.applylisttmp,(function(a,e){return i("v-uni-view",{key:e,staticClass:"items"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-image",{attrs:{"lazy-load":!0,src:a.avatar,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"center"},[i("v-uni-view",{staticClass:"top"},[t._v(t._s(a.realname))]),i("v-uni-view",{staticClass:"foo"},[t._v(t._s(a.mobile))])],1),i("v-uni-view",{staticClass:"right"},[i("v-uni-view",{class:["r_left",t.ismanager?"":"active"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.disagree(e)}}},[t._v("拒绝")]),i("v-uni-view",{class:["r_right",t.ismanager?"":"active"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.agree(e)}}},[t._v("同意")])],1)],1)})),1):t._e()],1)],1)},r=[];i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return r})),i.d(a,"a",(function(){return e}))},d615:function(t,a,i){"use strict";i.r(a);var e=i("a25d"),n=i("0e84");for(var r in n)"default"!==r&&function(t){i.d(a,t,(function(){return n[t]}))}(r);i("4c0a");var s,o=i("f0c5"),c=Object(o["a"])(n["default"],e["b"],e["c"],!1,null,"2909d05c",null,!1,e["a"],s);a["default"]=c.exports}}]);