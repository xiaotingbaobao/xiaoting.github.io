(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-my-userinfo-pay-changescale-changescale"],{"14d9":function(t,e,n){"use strict";n.r(e);var i=n("5068f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"17f1":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.top .status[data-v-993e5452]{width:100%;height:0;position:fixed;background-image:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background-image:linear-gradient(90deg,#2466ad,#2b7ed1);z-index:10;top:0}.top .nav-bar[data-v-993e5452]{width:100%;height:%?384?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;position:fixed;overflow:hidden;top:0;z-index:10}.top .nav-bar .box[data-v-993e5452]{width:%?750?%;overflow:hidden}.top .nav-bar .box .home_top[data-v-993e5452]{position:relative;width:100%;height:%?384?%}.top .nav-bar .box .home_top .back[data-v-993e5452]{width:%?150?%;height:%?88?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:50%;position:absolute;left:%?30?%;overflow:hidden;z-index:3}.top .nav-bar .box .home_top .back .iconfont[data-v-993e5452]{font-size:%?44?%;color:#fff}.top .nav-bar .box .home_top .back .back_text[data-v-993e5452]{font-size:%?32?%;color:#fff}.top .nav-bar .box .home_top .title[data-v-993e5452]{position:absolute;top:0;width:100%;height:%?88?%;line-height:%?88?%;font-size:%?38?%;color:#fff;text-align:center}.top .nav-bar .box .home_top[data-v-993e5452]:after{width:130%;height:%?384?%;position:absolute;left:-15%;top:0;z-index:-1;content:"";border-radius:0 0 80% 80%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1)}.top .nav-bar .box .menu_title[data-v-993e5452]{width:calc(100% - %?30?%);margin:0 %?15?% %?30?% %?10?%;height:%?170?%;z-index:100;position:absolute;top:%?88?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.top .nav-bar .box .menu_title .menu_li[data-v-993e5452]{width:calc(100% /5);height:%?170?%;margin-top:%?30?%}.top .nav-bar .box .menu_title .menu_li .iconfont[data-v-993e5452]{color:#fff;font-size:%?70?%;text-align:center}.top .nav-bar .box .menu_title .menu_li .menu_text[data-v-993e5452]{margin-top:%?5?%;color:#fff;font-size:%?26?%;text-align:center}.top .place[data-v-993e5452]{height:%?384?%}uni-page-body[data-v-993e5452]{background:#f5f5f5;width:%?750?%;overflow-x:hidden}.content_one[data-v-993e5452]{width:100%;background-color:#fff}.content_one .con_one_top[data-v-993e5452]{width:calc(100 - %?60?%);padding-top:%?60?%;margin:0 %?30?% %?20?% %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.content_one .con_one_top .left[data-v-993e5452]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content_one .con_one_top .left .titletext[data-v-993e5452]{font-size:%?30?%;color:#333;font-weight:700}.content_one .con_one_top .left .buttonone[data-v-993e5452]{width:%?36?%;height:%?36?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);color:#fff;border-radius:%?50?%;line-height:%?36?%;text-align:center}.content_one .con_one_top .left .buttonone .iconfont[data-v-993e5452]{font-size:%?28?%;color:#fff;margin-left:%?3?%}.content_one .con_one_top .left .text[data-v-993e5452]{font-size:%?30?%;color:#333;margin:0 %?16?%}.content_one .con_one_top .left .buttontwo[data-v-993e5452]{width:%?36?%;height:%?36?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);color:#fff;font-size:%?24?%;border-radius:%?50?%;line-height:%?36?%;text-align:center}.content_one .con_one_top .left .buttontwo .iconfont[data-v-993e5452]{color:#fff;font-size:%?30?%;margin-left:%?3?%}.content_one .con_one_top .iconfont[data-v-993e5452]{font-size:%?45?%;margin-right:%?20?%;color:#2468b1}.content_one .con_one_top .right[data-v-993e5452]{font-size:%?30?%;color:#333;font-weight:700}.content_one .con_one_foo[data-v-993e5452]{width:100%;padding-bottom:%?30?%;border-bottom-left-radius:%?10?%;border-bottom-right-radius:%?10?%;overflow:hidden}.content_one .con_one_foo .items[data-v-993e5452]{width:calc(100 - %?60?%);height:%?60?%;margin:%?26?% %?30?% 0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content_one .con_one_foo .items .left[data-v-993e5452]{font-size:%?30?%;color:#333}.content_one .con_one_foo .items .right[data-v-993e5452]{border-radius:%?10?%;overflow:hidden;border:1px solid #333;width:%?162?%;height:%?56?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content_one .con_one_foo .items .right .input[data-v-993e5452]{width:%?115?%;font-size:%?30?%;color:#333;margin-left:%?5?%}.content_one .con_one_foo .items .right .input uni-input[data-v-993e5452]{width:%?115?%;height:%?56?%}.content_one .con_one_foo .items .right .text[data-v-993e5452]{font-size:%?30?%;color:#333}.content_one .con_one_foo .items .rightactive[data-v-993e5452]{border-radius:%?10?%;overflow:hidden;border:1px solid #333;width:%?162?%;height:%?56?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#f1f1f1}.content_one .con_one_foo .items .rightactive .input[data-v-993e5452]{width:%?115?%;font-size:%?30?%;color:#333;margin-left:%?5?%}.content_one .con_one_foo .items .rightactive .input uni-input[data-v-993e5452]{width:%?115?%;height:%?56?%}.content_one .con_one_foo .items .rightactive .text[data-v-993e5452]{font-size:%?30?%;color:#333}.tabonesend[data-v-993e5452]{width:100%;height:%?88?%;margin-top:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.tabonesend .left[data-v-993e5452]{width:45%;color:#fff;line-height:%?88?%;text-align:center;border-radius:%?10?%;overflow:hidden;margin-left:%?20?%;margin-right:%?20?%;background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1)}.tabonesend .right[data-v-993e5452]{background:-webkit-linear-gradient(left,#2466ad,#2b7ed1);background:linear-gradient(90deg,#2466ad,#2b7ed1);border-radius:%?10?%;overflow:hidden;width:45%;color:#fff;line-height:%?88?%;text-align:center}body.?%PAGE?%[data-v-993e5452]{background:#f5f5f5}',""]),t.exports=e},3923:function(t,e,n){"use strict";n.r(e);var i=n("c31f"),a=n("14d9");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("77e5");var l,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"993e5452",null,!1,i["a"],l);e["default"]=c.exports},"5068f":function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__("ee27");__webpack_require__("99af"),__webpack_require__("c975"),__webpack_require__("a15b"),__webpack_require__("ac1f"),__webpack_require__("1276"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _pageHeadBack=_interopRequireDefault(__webpack_require__("9c7e")),that,_default={components:{pageHeadBack:_pageHeadBack.default},data:function(){return{tabshow:!1,list:[],tabonetmp:[],listtmp:{},paynochangeindex:[],userinfo:{}}},onLoad:function(t){that=this,that.projectid=t.id,that.getuser((function(t){console.log(t),that.userinfo=t.data,console.log(that.userinfo),that.iscompany=that.userinfo.userinfo.role.split("|")[1]})),that.gettabonetmp(),that.getpaylisttmp()},methods:{getpaylisttmp:function(){that.post("api/project/pay_list",{order_id:that.projectid},(function(t){if(1===t.code)console.log(t),that.listtmp=t.data,that.listtmp.list&&(that.each(that.listtmp.list,(function(t,e){e.paylist.length>0&&(console.log(e.paylist.length),that.paynochangeindex=that.paynochangeindex.concat(t))})),console.log(that.paynochangeindex)),that.gettabonetmp();else{var e=t.msg.split("(",2);that.echo(e[0])}}))},gettabonetmp:function gettabonetmp(){that.post("api/project/contract_detail",{id:that.projectid},(function(res){if(1===res.code){if(console.log(res),res.data){that.tabonetmp=eval(decodeURIComponent(res.data.pay_section)),console.log(that.tabonetmp);var list=[];that.each(that.tabonetmp,(function(t,e){var n={name:"期",value:"",isselect:!1};n.value=e,console.log(that.paynochangeindex.indexOf(t)),that.paynochangeindex.indexOf(t)>=0&&(n.isselect=!0),list=list.concat(n)})),console.log(that.list),that.list=list}else that.tabonetmp=["25","25","25","25"];console.log(that.list)}else{var errtext=res.msg.split("(",2);that.echo(errtext[0])}}))},tabonesend:function tabonesend(){console.log(that.list);var datamargin=[];that.each(that.list,(function(t,e){e.value&&datamargin.push(e.value)})),console.log(datamargin),100!==eval(datamargin.join("+"))?that.echo("百分比相加需等于100"):that.post("api/project/pay_section_set",{company_id:that.iscompany,order_id:that.projectid,type:"order",data:encodeURIComponent(JSON.stringify(datamargin))},(function(t){if(1===t.code)that.echo("修改成功！"),uni.setStorage({key:"willUpdate",data:!0}),that.gettabonetmp(),that.tabshow=!1,that.list=[{name:"期",value:""},{name:"期",value:""},{name:"期",value:""},{name:"期",value:""}];else{var e=t.msg.split("(",2);that.echo(e[0])}}))},tabonecancle:function(){that.tabshow=!1,that.list=[],that.getpaylisttmp()},taboneshowclick:function(){that.tabshow=!0},backfee:function(){uni.navigateBack({delta:1})},buttononedelete:function(){0==that.list[that.list.length-1].isselect?that.list.pop():that.echo("该期缴费过，不能更改删除哦")},buttononeadd:function(){var t=[],e={name:"期",value:"",isselect:!1};t=t.concat(e),that.list=that.list.concat(t),console.log(that.list)}}};exports.default=_default},"77e5":function(t,e,n){"use strict";var i=n("beef"),a=n.n(i);a.a},beef:function(t,e,n){var i=n("17f1");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("254ea4ee",i,!0,{sourceMap:!1,shadowMode:!1})},c31f:function(t,e,n){"use strict";var i={pageHeadBack:n("9c7e").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("page-head-back",{attrs:{title:"付款比例管理"}}),0==t.tabshow?n("v-uni-view",{staticClass:"content_one"},[n("v-uni-view",{staticClass:"con_one_top"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-view",{staticClass:"titletext"},[t._v("分几期：")]),n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.tabonetmp.length)+"期")])],1),n("v-uni-view",{staticClass:"iconfont iconsign",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.taboneshowclick.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"con_one_foo"},t._l(t.tabonetmp,(function(e,i){return n("v-uni-view",{key:i,staticClass:"items"},[n("v-uni-view",{staticClass:"left"},[t._v("第 "+t._s(i+1)+" 期：")]),n("v-uni-view",{staticClass:"right",staticStyle:{border:"none","font-size":"30upx",color:"#333"}},[t._v(t._s(e)+"%")])],1)})),1)],1):t._e(),1==t.tabshow?n("v-uni-view",{staticClass:"content_one"},[n("v-uni-view",{staticClass:"con_one_top"},[n("v-uni-view",{staticClass:"left"},[n("v-uni-view",{staticClass:"titletext"},[t._v("分几期：")]),n("v-uni-view",{staticClass:"buttonone",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buttononedelete.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"iconfont iconreduce"})],1),n("v-uni-view",{staticClass:"text"},[t._v(t._s(t.list.length))]),n("v-uni-view",{staticClass:"buttontwo",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.buttononeadd.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"iconfont iconplus"})],1)],1)],1),n("v-uni-view",{staticClass:"con_one_foo"},t._l(t.list,(function(e,i){return n("v-uni-view",{key:i,staticClass:"items"},[n("v-uni-view",{staticClass:"left"},[t._v("第 "+t._s(i+1)+" 期：")]),n("v-uni-view",{staticClass:"right",class:["right",1==e.isselect?"rightactive":"aa"]},[1==e.isselect?n("v-uni-view",{staticClass:"input"},[n("v-uni-input",{attrs:{disabled:"",type:"number"},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"items.value"}})],1):t._e(),0==e.isselect?n("v-uni-view",{staticClass:"input"},[n("v-uni-input",{attrs:{type:"number"},model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"items.value"}})],1):t._e(),n("v-uni-view",{staticClass:"text"},[t._v("%")])],1)],1)})),1),n("v-uni-view",{staticClass:"tabonesend"},[n("v-uni-view",{staticClass:"left",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabonecancle()}}},[t._v("取消")]),n("v-uni-view",{staticClass:"right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tabonesend()}}},[t._v("保存")])],1)],1):t._e()],1)},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))}}]);