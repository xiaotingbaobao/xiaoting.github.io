(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-coupon-addlie-addlie"],{"44af":function(t,e,o){"use strict";var i,n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("v-uni-view",{staticClass:"xpadding f2f2f2"}),o("v-uni-view",{staticClass:"top"},[o("v-uni-view",{staticClass:"items"},[o("v-uni-view",{staticClass:"title"},[t._v("优惠额度"),o("v-uni-text",[t._v("*")])],1),o("v-uni-view",{staticClass:"right"},[o("v-uni-view",{staticClass:"text"},[t._v("满")]),o("v-uni-view",{staticClass:"right_input"},[o("v-uni-input",{attrs:{maxlength:"5"},model:{value:t.tmp.maxAmount,callback:function(e){t.$set(t.tmp,"maxAmount",e)},expression:"tmp.maxAmount"}})],1),o("v-uni-view",{staticClass:"text"},[t._v("减")]),o("v-uni-view",{staticClass:"right_input"},[o("v-uni-input",{attrs:{type:"number",maxlength:"5"},model:{value:t.tmp.minAmount,callback:function(e){t.$set(t.tmp,"minAmount",e)},expression:"tmp.minAmount "}})],1),o("v-uni-view",{staticClass:"text"},[t._v("元")])],1)],1),o("v-uni-view",{staticClass:"items"},[o("v-uni-view",{staticClass:"title"},[t._v("使用条件")]),o("v-uni-view",{staticClass:"right"},[o("v-uni-input",{staticClass:"right_inputtip",attrs:{type:"text",maxlength:"14",placeholder:"仅限购买某种品类","placeholder-style":"font-size:28rpx;color:#999;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.twoinput.apply(void 0,arguments)}},model:{value:t.tmp.conditions,callback:function(e){t.$set(t.tmp,"conditions",e)},expression:"tmp.conditions"}}),o("v-uni-view",{staticClass:"rughtnum"},[t._v(t._s(t.twonum))])],1)],1),o("v-uni-view",{staticClass:"items",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tosetone.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"title"},[t._v("券信息")]),o("v-uni-view",{staticClass:"right"},[o("v-uni-view",{staticClass:"selecttext"},[t._v(t._s(t.onesettext))]),o("v-uni-view",{staticClass:"iconfont iconjiantou2"})],1)],1)],1),o("v-uni-view",{staticClass:"xpadding f2f2f2"}),o("v-uni-view",{staticClass:"top"},[o("v-uni-view",{staticClass:"items"},[o("v-uni-view",{staticClass:"title"},[t._v("商家名称"),o("v-uni-text",[t._v("*")])],1),o("v-uni-view",{staticClass:"right"},[o("v-uni-input",{staticClass:"right_inputtip",attrs:{type:"text",maxlength:"10",placeholder:"不超过10个字","placeholder-style":"font-size:28rpx;color:#999;"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.threeinput.apply(void 0,arguments)}},model:{value:t.tmp.merchantName,callback:function(e){t.$set(t.tmp,"merchantName",e)},expression:"tmp.merchantName"}}),o("v-uni-view",{staticClass:"rughtnum"},[t._v(t._s(t.threenum))])],1)],1),o("v-uni-view",{staticClass:"items",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tosettwo.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"title"},[t._v("商家详情信息")]),o("v-uni-view",{staticClass:"right"},[o("v-uni-view",{staticClass:"selecttext"},[t._v(t._s(t.twosettext))]),o("v-uni-view",{staticClass:"iconfont iconjiantou2"})],1)],1),o("v-uni-view",{staticClass:"items",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tosetthree.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"title"},[t._v("活动规则")]),o("v-uni-view",{staticClass:"right"},[o("v-uni-view",{staticClass:"selecttext"},[t._v(t._s(t.threesettext))]),o("v-uni-view",{staticClass:"iconfont iconjiantou2"})],1)],1)],1),o("v-uni-view",{staticClass:"xpadding f2f2f2"}),o("v-uni-view",{staticClass:"foo"},[o("v-uni-view",{staticClass:"title"},[t._v("使用须知")]),o("v-uni-view",{staticClass:"text"},[o("v-uni-view",{staticClass:"textone textonetop"},[t._v("1、本券不与其他活动同时使用。")]),o("v-uni-view",{staticClass:"textone"},[t._v("2、本券仅限本人使用。")]),o("v-uni-view",{staticClass:"textone"},[t._v("3、本券不兑现，不找零，不与其他优惠同时用。")]),o("v-uni-view",{staticClass:"textone textonebottom"},[t._v("4、此活动最终解释权归本店所有。")])],1)],1),o("v-uni-view",{staticClass:"foobuttom"},[o("v-uni-view",{staticClass:"keep",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.keep.apply(void 0,arguments)}}},[t._v("保存")]),o("v-uni-view",{staticClass:"send"},[o("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.creatcoupon.apply(void 0,arguments)}}},[t._v("发送")])],1)],1)],1)},a=[];o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}))},8262:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-274a874e]{background-color:#fff}.top[data-v-274a874e]{width:100%;background-color:#fff}.top .items[data-v-274a874e]{width:calc(100% - %?60?%);margin:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:%?98?%;line-height:%?98?%;border-bottom:1px solid #f1f1f1}.top .items .title[data-v-274a874e]{font-size:%?30?%;color:#333}.top .items .title uni-text[data-v-274a874e]{font-size:%?30?%;color:red;margin-left:%?10?%}.top .items .right[data-v-274a874e]{display:-webkit-box;display:-webkit-flex;display:flex}.top .items .right .text[data-v-274a874e]{font-size:%?30?%;color:#333}.top .items .right .right_input[data-v-274a874e]{margin:%?24?% %?10?% 0 %?10?%;width:%?120?%;height:%?50?%;margin-top:%?26?%;font-size:%?30?%;color:#333;text-align:center;line-height:%?50?%;background-color:#f9f9f9}.top .items .right .right_inputtip[data-v-274a874e]{width:%?480?%;height:%?98?%;line-height:%?98?%;text-align:right;margin-right:%?10?%;font-size:%?30?%;color:#333}.top .items .right .rughtnum[data-v-274a874e]{color:red;font-size:%?24?%}.top .items .right .selecttext[data-v-274a874e]{font-size:%?30?%;color:#333;margin-right:%?10?%}.top .items .right .iconfont[data-v-274a874e]{color:#999}.foo[data-v-274a874e]{width:100%}.foo .title[data-v-274a874e]{margin-left:%?30?%;height:%?90?%;line-height:%?90?%;font-size:%?30?%;color:#333}.foo .text[data-v-274a874e]{width:%?690?%;margin:0 %?30?%;background-color:#f9f9f9}.foo .text .textone[data-v-274a874e]{margin:0 %?30?%;font-size:%?28?%;height:%?40?%;line-height:%?40?%;color:#333}.foo .text .textonetop[data-v-274a874e]{padding-top:%?30?%}.foo .text .textonebottom[data-v-274a874e]{padding-bottom:%?30?%}.foobuttom[data-v-274a874e]{margin-top:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;width:100%}.foobuttom .keep[data-v-274a874e]{width:%?296?%;height:%?86?%;margin-left:%?60?%;border-radius:%?10?%;color:#f35f6d;border:1px solid #f35f6d;line-height:%?90?%;text-align:center;font-size:%?32?%}.foobuttom .send[data-v-274a874e]{margin-left:%?30?%;width:%?300?%;height:%?90?%;border-radius:%?10?%;color:#fff;background-color:#f35f6d;line-height:%?90?%;text-align:center;font-size:%?32?%}.foobuttom .send uni-button[data-v-274a874e]{background-color:#f35f6d}body.?%PAGE?%[data-v-274a874e]{background-color:#fff}',""]),t.exports=e},"8d2e":function(t,e,o){var i=o("8262");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("4f06").default;n("1880cc19",i,!0,{sourceMap:!1,shadowMode:!1})},"8ed5":function(t,e,o){"use strict";var i=o("8d2e"),n=o.n(i);n.a},b278:function(t,e,o){"use strict";o.r(e);var i=o("e2ea"),n=o.n(i);for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},e2ea:function(t,e,o){"use strict";var i;o("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{pay_one:"100",pay_two:"10",tmp:{activityRuleId:"",conditions:"",couponId:"",maxAmount:"100",merchantId:"",minAmount:"10",name:"",type:"5",vouchersAmount:"",merchantName:""},oneid:"",twoid:"",threeid:"",onesettext:"可选择设置",twosettext:"可选择设置",threesettext:"可选择设置",businessname:"",onenum:"10",twonum:"14",threenum:"10"}},onLoad:function(){i=this,setTimeout((function(){i.getsetcoupon()}),500)},onShow:function(){i.init()},onHide:function(){console.log("onhide")},methods:{oneinput:function(t){console.log(t),i.$set(i,"onenum",Number(10-t.target.cursor)),i.$forceUpdate()},twoinput:function(t){console.log(t),i.$set(i,"twonum",Number(10-t.target.cursor)),i.$forceUpdate()},threeinput:function(t){console.log(t),i.$set(i,"threenum",Number(10-t.target.cursor)),i.$forceUpdate()},init:function(){console.log("init"),console.log("券id:"+wx.getStorageSync("fiveCouponOneid")),i.oneid=wx.getStorageSync("fiveCouponOneid"),i.tmp.couponId=wx.getStorageSync("fiveCouponOneid"),i.twoid=wx.getStorageSync("fiveCouponTwoid"),i.tmp.merchantId=wx.getStorageSync("fiveCouponTwoid"),i.threeid=wx.getStorageSync("fiveCouponThreeid"),i.tmp.activityRuleId=wx.getStorageSync("fiveCouponThreeid"),i.checkid(i.oneid,i.twoid,i.threeid),i.$forceUpdate(),console.log("券id信息:"+i.oneid),console.log("商家id信息:"+i.twoid),console.log("规则id信息:"+i.threeid)},getsetcoupon:function(){console.log("获取保存过的券信息"),i.get("couponType/queryIsSave",{type:5},(function(t){console.log(t),0==t.status?t.re&&(i.tmp.activityRuleId=t.re.activityRuleId,i.tmp.conditions=t.re.conditions,i.tmp.couponId=t.re.couponId,i.tmp.maxAmount=t.re.maxAmount,i.tmp.merchantId=t.re.merchantId,i.tmp.name=t.re.name,i.tmp.type=t.re.type,i.tmp.vouchersAmount=t.re.vouchersAmount,i.tmp.merchantName=t.re.merchantName,i.oneid=i.tmp.couponId,i.twoid=i.tmp.merchantId,i.threeid=i.tmp.activityRuleId,wx.setStorageSync("fiveCouponOneid",i.oneid),wx.setStorageSync("fiveCouponTwoid",i.twoid),wx.setStorageSync("fiveCouponThreeid",i.threeid),console.log("重新赋值oneid"+i.oneid),console.log("重新赋值twoid"+i.twoid),console.log("重新赋值threeid"+i.threeid),i.checkid(i.tmp.couponId,i.tmp.merchantId,i.tmp.activityRuleId)):i.echo(t.msg)}))},checkid:function(t,e,o){i.onesettext=t?"已设置":"可选择设置",i.twosettext=e?"已设置":"可选择设置",i.threesettext=o?"已设置":"可选择设置"},keep:function(){i.tmp.couponId||(i.tmp.couponId=0),console.log("keep"),console.log(i.tmp),i.tmp.name=i.tmp.minAmount,""==i.tmp.merchantName?i.echo("请输入商家名称"):(i.echo("保存中..."),i.post("couponType/create",i.tmp,(function(t){console.log(t),0==t.status?(wx.removeStorageSync("fiveCouponOneid"),wx.removeStorageSync("fiveCouponTwoid"),wx.removeStorageSync("fiveCouponThreeid"),setTimeout((function(){i.echo("保存成功")}),500)):i.echo(t.msg)})))},creatcoupon:function(){console.log("creat"),i.tmp.couponId||(i.tmp.couponId=0),i.tmp.name=i.tmp.minAmount,""==i.tmp.merchantName?i.echo("请输入商家名称"):(i.echo("发布中..."),i.post("couponType/release",i.tmp,(function(t){console.log(t),0==t.status?(wx.removeStorageSync("fiveCouponOneid"),wx.removeStorageSync("fiveCouponTwoid"),wx.removeStorageSync("fiveCouponThreeid"),i.tmp={activityRuleId:"",conditions:"",couponId:"",maxAmount:"",merchantId:"",minAmount:"",name:"",type:"5",vouchersAmount:""},i.tmp.merchantName="",uni.navigateTo({url:"/pages/my/detail/detail"})):i.echo(t.msg)})))},tosetone:function(){i.tmp.minAmount?uni.navigateTo({url:"/pages/coupon/add/setcoupon/setcoupon?type=5&oneid="+i.oneid}):i.echo("请填写满减额度")},tosettwo:function(){i.tmp.merchantName?uni.navigateTo({url:"/pages/coupon/add/setbusiness/setbusiness?type=5&businessname="+i.tmp.merchantName+"&twoid="+i.twoid}):i.echo("请填写商家名称")},tosetthree:function(){i.tmp.minAmount?i.tmp.merchantName?uni.navigateTo({url:"/pages/coupon/add/setrules/setrules?type=5&threeid="+i.threeid}):i.echo("请填写商家名称"):i.echo("请填写券名称")},mpGetUserInfo:function(t){i.creatcoupon()}}};e.default=n},f925:function(t,e,o){"use strict";o.r(e);var i=o("44af"),n=o("b278");for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("8ed5");var s,c=o("f0c5"),u=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"274a874e",null,!1,i["a"],s);e["default"]=u.exports}}]);